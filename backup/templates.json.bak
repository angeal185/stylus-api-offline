{"home":"<div class=\"docs\"><h1>Expressive, dynamic, robust CSS</h1><h2 id=\"css-needs-a-hero\">CSS needs a hero</h2><div><pre><code>\r\nbody {\r\n  font: 12px Helvetica, Arial, sans-serif;\r\n}\r\na.button {\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  border-radius: 5px;\r\n}\r\n</code></pre></div><h3 id=\"what-if-we-could-omit-braces\">What if we could omit braces?</h3><div><pre><code>\r\nbody\r\n  font: 12px Helvetica, Arial, sans-serif;\r\n\r\na.button\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  border-radius: 5px;\r\n</code></pre></div><h3 id=\"how-about-semi-colons\">How about semi-colons?</h3><div><pre><code>\r\nbody\r\n  font: 12px Helvetica, Arial, sans-serif\r\n\r\na.button\r\n  -webkit-border-radius: 5px\r\n  -moz-border-radius: 5px\r\n  border-radius: 5px\r\n</code></pre></div><h3 id=\"keep-things-dry\">Keep things DRY</h3><div><pre><code>\r\n\r\nborder-radius()\r\n  -webkit-border-radius: arguments\r\n  -moz-border-radius: arguments\r\n  border-radius: arguments\r\n\r\nbody\r\n  font: 12px Helvetica, Arial, sans-serif\r\n\r\na.button\r\n    border-radius(5px)\r\n\r\n</code></pre></div><h3 id=\"how-about-transparent-mixins\">How about transparent mixins?</h3><div><pre><code>\r\n\r\nborder-radius()\r\n  -webkit-border-radius: arguments\r\n  -moz-border-radius: arguments\r\n  border-radius: arguments\r\n\r\nbody\r\n  font: 12px Helvetica, Arial, sans-serif\r\n\r\na.button\r\n  border-radius: 5px\r\n\r\n</code></pre></div><h3 id=\"create--share\">Create &amp; Share</h3><div><pre><code>\r\n\r\n@import 'vendor'\r\n\r\nbody\r\n  font: 12px Helvetica, Arial, sans-serif\r\n\r\na.button\r\n  border-radius: 5px\r\n\r\n</code></pre></div><h3 id=\"even-in-language-functions\">Even in-language functions!</h3><div><pre><code>\r\n\r\nsum(nums...)\r\nsum = 0\r\nsum += n for n in nums\r\n\r\nsum(1 2 3 4)\r\n// =&gt; 10\r\n\r\n</code></pre></div><h3 id=\"what-if-it-were-all-optional\">What if it were all optional?</h3><div><pre>\r\n<code>fonts = Helvetica, Arial, sans-serif\r\n\r\nbody {\r\n  padding: 50px;\r\n  font: 14px/1.4 fonts;\r\n}\r\n</code>\r\n</pre></div></div><h3 id=\"get-styling-with-stylus\">Get styling with Stylus</h3><p>Installing Stylus is very easy once you have Node.js. So get the binaries for your platform and make sure that they also include npm, Node’s package manager.</p><p>Now, type in your terminal:</p><div class=\"terminal highlighter-rouge\"><div><pre><code>$ npm install stylus -g\r\n</code></pre></div><p>If you want an expressive css language for nodejs with these features or the features listed below, head over to GitHub for more information.</p><h3 id=\"features\">Features</h3><ul><li>Optional colons</li><li>Optional semi-colons</li><li>Optional commas</li><li>Optional braces</li><li>Variables</li><li>Interpolation</li><li>Mixins</li><li>Arithmetic</li><li>Type coercion</li><li>Dynamic importing</li><li>Conditionals</li><li>Iteration</li><li>Nested selectors</li><li>Parent referencing</li><li>Variable function calls</li><li>Lexical scoping</li><li>Built-in functions (over 60)</li><li>In-language functions</li><li>Optional compression</li><li>Optional image inlining</li><li>Stylus executable</li><li>Robust error reporting</li><li>Single-line and multi-line comments</li><li>CSS literal for those tricky times</li><li>Character escaping</li><li>TextMate bundle</li><li>and more!</li></ul></div>","variables":"<div class=\"docs\"><h1>Variables</h1><p>We may assign expressions to variables and use them throughout our stylesheet:</p><div><pre><code> font-size = 14px\r\n\r\n body\r\n   font font-size Arial, sans-serif\r\n</code></pre></div><p>Compiles to:</p><div><pre><code> body {\r\n   font: 14px Arial, sans-serif;\r\n }\r\n</code></pre></div><p>Variables can even consist of an expression list:</p><div><pre><code>font-size = 14px\r\nfont = font-size \"Lucida Grande\", Arial\r\n\r\nbody\r\n  font font, sans-serif\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>body {\r\n  font: 14px \"Lucida Grande\", Arial, sans-serif;\r\n}\r\n</code></pre></div><p>Identifiers (variable names, functions, etc.) may also include the <code class=\"highlighter-rouge\">$</code> character. For example:</p><div><pre><code>$font-size = 14px\r\nbody {\r\n  font: $font-size sans-serif;\r\n}\r\n</code></pre></div><h2 id=\"property-lookup\">Property Lookup</h2><p>Another cool feature unique to Stylus is the ability to reference properties defined <em>without</em> assigning their values to variables. A great example of this is the logic required for vertically and horizontally center an element (typically done using percentages and negative margins, as follows):</p><div><pre><code> #logo\r\n   position: absolute\r\n   top: 50%\r\n   left: 50%\r\n   width: w = 150px\r\n   height: h = 80px\r\n   margin-left: -(w / 2)\r\n   margin-top: -(h / 2)\r\n</code></pre></div><p>Instead of assigning the variables <code class=\"highlighter-rouge\">w</code> and <code class=\"highlighter-rouge\">h</code>, we can simply prepend the <code class=\"highlighter-rouge\">@</code> character to the property name to access the value:</p><div><pre><code> #logo\r\n   position: absolute\r\n   top: 50%\r\n   left: 50%\r\n   width: 150px\r\n   height: 80px\r\n   margin-left: -(@width / 2)\r\n   margin-top: -(@height / 2)\r\n</code></pre></div><p>Another use-case is conditionally defining properties within mixins based on the existence of others . In the following example, we apply a default <code class=\"highlighter-rouge\">z-index</code> of <code class=\"highlighter-rouge\">1</code>—but <em>only</em> if <code class=\"highlighter-rouge\">z-index</code> was not previously specified:</p><div><pre><code>  position()\r\n    position: arguments\r\n    z-index: 1 unless @z-index\r\n\r\n  #logo\r\n    z-index: 20\r\n    position: absolute\r\n\r\n  #logo2\r\n    position: absolute\r\n</code></pre></div><p>Property lookup will “bubble up” the stack until found, or return <code class=\"highlighter-rouge\">null</code> if the property cannot be resolved. In the following example, <code class=\"highlighter-rouge\">@color</code> will resolve to <code class=\"highlighter-rouge\">blue</code>:</p><div><pre><code>  body\r\n    color: red\r\n    ul\r\n      li\r\n        color: blue\r\n        a\r\n          background-color: @color\r\n</code></pre></div></div>\r\n","interpolation":"<div class=\"docs\"><h1>Interpolation</h1><p>Stylus supports interpolation by using the <code class=\"highlighter-rouge\">{}</code> characters to surround an expression, which then becomes part of the identifier. For example, <code class=\"highlighter-rouge\">-webkit-{'border' + '-radius'}</code> evaluates to <code class=\"highlighter-rouge\">-webkit-border-radius</code>.</p><p>A great example use-case for this is expanding properties with vendor prefixes.</p><div><pre><code>  vendor(prop, args)\r\n    -webkit-{prop} args\r\n    -moz-{prop} args\r\n    {prop} args\r\n\r\n  border-radius()\r\n    vendor('border-radius', arguments)\r\n\r\n  box-shadow()\r\n    vendor('box-shadow', arguments)\r\n\r\n  button\r\n    border-radius 1px 2px / 3px 4px\r\n</code></pre></div><p>Yields:</p><div><pre><code>  button {\r\n    -webkit-border-radius: 1px 2px / 3px 4px;\r\n    -moz-border-radius: 1px 2px / 3px 4px;\r\n    border-radius: 1px 2px / 3px 4px;\r\n  }\r\n</code></pre></div><h2 id=\"selector-interpolation\">Selector Interpolation</h2><p>Interpolation works with selectors as well. For example, we may iterate to assign the <code class=\"highlighter-rouge\">height</code> property for the first 5 rows in a table, as shown below:</p><div><pre><code>table\r\n  for row in 1 2 3 4 5\r\n    tr:nth-child({row})\r\n      height: 10px * row\r\n</code></pre></div><p>Yields:</p><div><pre><code>table tr:nth-child(1) {\r\n  height: 10px;\r\n}\r\ntable tr:nth-child(2) {\r\n  height: 20px;\r\n}\r\ntable tr:nth-child(3) {\r\n  height: 30px;\r\n}\r\ntable tr:nth-child(4) {\r\n  height: 40px;\r\n}\r\ntable tr:nth-child(5) {\r\n  height: 50px;\r\n}\r\n</code></pre></div><p>You may also put together multiple selectors into one variable by building a string and interpolate them in place:</p><div><pre><code>mySelectors = '#foo,#bar,.baz'\r\n\r\n{mySelectors}\r\n  background: #000\r\n</code></pre></div><p>Yields:</p><div><pre><code>#foo,\r\n#bar,\r\n.baz {\r\n  background: #000;\r\n}\r\n</code></pre></div></div>\r\n","mixins":"<div class=\"docs\"><h1>Mixins</h1><p>Both mixins and functions are defined in the same manner, but they are applied in different ways.</p><p>For example, we have a <code class=\"highlighter-rouge\">border-radius(n)</code> function defined below, which is invoked as a <em>mixin</em> (i.e., invoked as a statement, rather than part of an expression).</p><p>When <code class=\"highlighter-rouge\">border-radius()</code> is invoked within a selector, the properties are expanded and copied into the selector.</p><div><pre><code>border-radius(n)\r\n  -webkit-border-radius n\r\n  -moz-border-radius n\r\n  border-radius n\r\n\r\nform input[type=button]\r\n  border-radius(5px)\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>form input[type=button] {\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  border-radius: 5px;\r\n}\r\n</code></pre></div><p>When using mixins you can omit the parentheses altogether, providing fantastic transparent vendor property support!</p><div><pre><code>border-radius(n)\r\n  -webkit-border-radius n\r\n  -moz-border-radius n\r\n  border-radius n\r\n\r\nform input[type=button]\r\n  border-radius 5px\r\n</code></pre></div><p>Note that the <code class=\"highlighter-rouge\">border-radius</code> within our mixin is treated as a property, and not a recursive function invocation.</p><p>To take this further, we can utilize the automatic <code class=\"highlighter-rouge\">arguments</code> local variable, containing the expression passed, allowing multiple values to be passed:</p><div><pre><code>border-radius()\r\n  -webkit-border-radius arguments\r\n  -moz-border-radius arguments\r\n  border-radius arguments\r\n</code></pre></div><p>Now we can pass values like <code class=\"highlighter-rouge\">border-radius 1px 2px / 3px 4px</code>!</p><p>Another great use of this is the addition of transparent support for vendor-specifics—such as <code class=\"highlighter-rouge\">opacity</code> support for IE:</p><div><pre><code>    support-for-ie ?= true\r\n\r\n    opacity(n)\r\n      opacity n\r\n      if support-for-ie\r\n        filter unquote('progid:DXImageTransform.Microsoft.Alpha(Opacity=' + round(n * 100) + ')')\r\n\r\n    #logo\r\n      &amp;:hover\r\n        opacity 0.5\r\n</code></pre></div><p>Rendering:</p><div><pre><code>    #logo:hover {\r\n      opacity: 0.5;\r\n      filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);\r\n    }\r\n</code></pre></div><h2 id=\"parent-references\">Parent References</h2><p>Mixins may utilize the parent reference character <code class=\"highlighter-rouge\">&amp;</code>, acting on the parent instead of further nesting.</p><p>For example, let’s say we want to create a <code class=\"highlighter-rouge\">stripe(even, odd)</code> mixin for striping table rows. We provide both <code class=\"highlighter-rouge\">even</code> and <code class=\"highlighter-rouge\">odd</code> with default color values, and assign the <code class=\"highlighter-rouge\">background-color</code> property on the row. Nested within the <code class=\"highlighter-rouge\">tr</code> we use <code class=\"highlighter-rouge\">&amp;</code> to reference the <code class=\"highlighter-rouge\">tr</code>, providing the <code class=\"highlighter-rouge\">even</code> color.</p><div><pre><code> stripe(even = #fff, odd = #eee)\r\n   tr\r\n     background-color odd\r\n     &amp;.even\r\n     &amp;:nth-child(even)\r\n       background-color even\r\n</code></pre></div><p>We may then utilize the mixin as shown below:</p><div><pre><code> table\r\n   stripe()\r\n   td\r\n     padding 4px 10px\r\n\r\n table#users\r\n   stripe(#303030, #494848)\r\n   td\r\n     color white\r\n</code></pre></div><p>Alternatively, <code class=\"highlighter-rouge\">stripe()</code> could be defined without parent references:</p><div><pre><code>stripe(even = #fff, odd = #eee)\r\n  tr\r\n    background-color odd\r\n  tr.even\r\n  tr:nth-child(even)\r\n    background-color even\r\n</code></pre></div><p>If we wished, we could invoke <code class=\"highlighter-rouge\">stripe()</code> as if it were a property:</p><div><pre><code>stripe #fff #000\r\n</code></pre></div><h2 id=\"block-mixins\">Block mixins</h2><p>You can pass blocks to mixins by calling mixin with <code class=\"highlighter-rouge\">+</code> prefix:</p><div><pre><code>+foo()\r\n  width: 10px\r\n</code></pre></div><p>The passed block would be available inside the mixin as <code class=\"highlighter-rouge\">block</code> variable, that then could be used with interpolation:</p><div><pre><code>foo()\r\n  .bar\r\n    {block}\r\n\r\n+foo()\r\n  width: 10px\r\n\r\n=&gt; .bar {\r\n     width: 10px;\r\n   }\r\n</code></pre></div><p>This feature is in its rough state ATM, but would be enhanced in the future.</p><h2 id=\"mixing-mixins-in-mixins\">Mixing Mixins in Mixins</h2><p>Mixins can (of course!) utilize other mixins, building upon their own selectors and properties.</p><p>For example, below we create <code class=\"highlighter-rouge\">comma-list()</code> to inline (via <code class=\"highlighter-rouge\">inline-list()</code>) and comma-separate an unordered list.</p><div><pre><code> inline-list()\r\n   li\r\n     display inline\r\n\r\n comma-list()\r\n   inline-list()\r\n   li\r\n     &amp;:after\r\n       content ', '\r\n     &amp;:last-child:after\r\n       content ''\r\n\r\n ul\r\n   comma-list()\r\n</code></pre></div><p>Rendering:</p><div><pre><code>ul li:after {\r\n  content: \", \";\r\n}\r\nul li:last-child:after {\r\n  content: \"\";\r\n}\r\nul li {\r\n  display: inline;\r\n}\r\n</code></pre></div></div>\r\n","kwargs":"<div class=\"docs\"><h1>Keyword Arguments</h1><p>Stylus supports keyword arguments, or “kwargs”. These allow you to reference arguments by their associated parameter name.</p><p>The examples shown below are functionally equivalent. However, we can place keyword arguments anywhere within the list. The remaining arguments that are <em>not</em> keyed will be applied to the parameters that have not been satisfied.</p><div><pre><code>  body {\r\n    color: rgba(255, 200, 100, 0.5);\r\n    color: rgba(red: 255, green: 200, blue: 100, alpha: 0.5);\r\n    color: rgba(alpha: 0.5, blue: 100, red: 255, 200);\r\n    color: rgba(alpha: 0.5, blue: 100, 255, 200);\r\n  }\r\n</code></pre></div><p>Yielding:</p><div><pre><code>   body {\r\n     color: rgba(255,200,100,0.5);\r\n     color: rgba(255,200,100,0.5);\r\n     color: rgba(255,200,100,0.5);\r\n     color: rgba(255,200,100,0.5);\r\n   }\r\n</code></pre></div><p>To see what parameters a function or mixin accept, use the <code class=\"highlighter-rouge\">p()</code> function:</p><div><pre><code>p(rgba)\r\n</code></pre></div><p>Yielding:</p><div><pre><code>inspect: rgba(red, green, blue, alpha)\r\n</code></pre></div></div>","vargs":"<div class=\"docs\"><h1>Rest Params</h1><p>Stylus supports rest parameters in the form of <code class=\"highlighter-rouge\">name...</code>. These params consume the remaining arguments passed to a mixin or function. This is useful when utilizing (for example) the implicit function call support to apply vendor prefixes like <code class=\"highlighter-rouge\">-webkit</code> or <code class=\"highlighter-rouge\">-moz</code>.</p><p>In the example below, we consume all the arguments passed, and simply apply them to multiple properties.</p><div><pre><code class=\"stylus\"> box-shadow(args...)\r\n   -webkit-box-shadow args\r\n   -moz-box-shadow args\r\n   box-shadow args\r\n\r\n #login\r\n   box-shadow 1px 2px 5px #eee\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  #login {\r\n    -webkit-box-shadow: 1px 2px 5px #eee;\r\n    -moz-box-shadow: 1px 2px 5px #eee;\r\n    box-shadow: 1px 2px 5px #eee;\r\n  }\r\n</code></pre></div><p>If we wanted to peek at a specific argument—say, <code class=\"highlighter-rouge\">x-offset</code>—we could simply use <code class=\"highlighter-rouge\">args[0]</code>. Or, we may wish to redefine the mixin:</p><div><pre><code class=\"stylus\">    box-shadow(offset-x, args...)\r\n      got-offset-x offset-x\r\n      -webkit-box-shadow offset-x args\r\n      -moz-box-shadow offset-x args\r\n      box-shadow offset-x args\r\n\r\n    #login\r\n      box-shadow 1px 2px 5px #eee\r\n</code></pre></div><p>Yielding:</p><div><pre><code>    #login {\r\n      got-offset-x: 1px;\r\n      -webkit-box-shadow: 1px 2px 5px #eee;\r\n      -moz-box-shadow: 1px 2px 5px #eee;\r\n      box-shadow: 1px 2px 5px #eee;\r\n    }\r\n</code></pre></div><h2 id=\"arguments\">arguments</h2><p>The <code class=\"highlighter-rouge\">arguments</code> variable is injected into mixin and function bodies, containing the exact expression passed. This is useful for several reasons (especially vendor support) as you get the <em>exact</em> expression, commas and all.</p><p>For example, if we use a rest param, the comma is consumed (since it is an expression delimiter):</p><div><pre><code class=\"stylus\">  box-shadow(args...)\r\n    -webkit-box-shadow args\r\n    -moz-box-shadow args\r\n    box-shadow args\r\n\r\n  #login\r\n    box-shadow #ddd 1px 1px, #eee 2px 2px\r\n</code></pre></div><p>Yielding undesired results:</p><div><pre><code>  #login {\r\n    -webkit-box-shadow: #ddd 1px 1px #eee 2px 2px;\r\n    -moz-box-shadow: #ddd 1px 1px #eee 2px 2px;\r\n    box-shadow: #ddd 1px 1px #eee 2px 2px;\r\n  }\r\n</code></pre></div><p>Let’s redefine the mixin using <code class=\"highlighter-rouge\">arguments</code>:</p><div><pre><code>  box-shadow()\r\n    -webkit-box-shadow arguments\r\n    -moz-box-shadow arguments\r\n    box-shadow arguments\r\n\r\n  body\r\n    box-shadow #ddd 1px 1px, #eee 2px 2px\r\n</code></pre></div><p>Now, yielding the desired result:</p><div><pre><code>  body {\r\n    -webkit-box-shadow: #ddd 1px 1px, #eee 2px 2px;\r\n    -moz-box-shadow: #ddd 1px 1px, #eee 2px 2px;\r\n    box-shadow: #ddd 1px 1px, #eee 2px 2px;\r\n  }\r\n</code></pre></div></div>\r\n","comments":"<div class=\"docs\"><h1>Comments</h1><p>Stylus supports three kinds of comments: single-line, and multi-line comments, and multi-line buffered comments.</p><h2 id=\"single-line\">Single-line</h2><p>Single-line comments look like JavaScript comments, and do not output in the resulting CSS:</p><div><pre><code>// I'm a comment!\nbody\n  padding 5px // some awesome padding\n</code></pre></div><h2 id=\"multi-line\">Multi-line</h2><p>Multi-line comments look identical to regular CSS comments. However, they only output when the <code class=\"highlighter-rouge\">compress</code> option is not enabled.</p><div><pre><code>/*\n * Adds the given numbers together.\n */\n\nadd(a, b)\n  a + b\n</code></pre></div><h2 id=\"multi-line-buffered\">Multi-line buffered</h2><p>Multi-line comments which are not suppressed start with <code class=\"highlighter-rouge\">/*!</code>. This tells Stylus to output the comment regardless of compression.</p><div><pre><code>/*!\n * Adds the given numbers together.\n */\n\nadd(a, b)\n  a + b\n</code></pre></div></div>\n","conditionals":"<div class=\"docs\"><h1>Conditionals</h1><p>Conditionals provide control flow to a language which is otherwise static, providing conditional imports, mixins, functions, and more. The examples below are simply examples, and not recommended :)</p><h2 id=\"if--else-if--else\">if / else if / else</h2><p>The <code class=\"highlighter-rouge\">if</code> conditional works as you would expect, simply accepting an expression, evaluating the following block when <code class=\"highlighter-rouge\">true</code>. Along with <code class=\"highlighter-rouge\">if</code> are the typical <code class=\"highlighter-rouge\">else if</code> and <code class=\"highlighter-rouge\">else</code> tokens, acting as fallbacks.</p><p>The example below would conditionally overload the <code class=\"highlighter-rouge\">padding</code> property, swapping it for <code class=\"highlighter-rouge\">margin</code>.</p><div><pre><code>overload-padding = true\n\nif overload-padding\n  padding(y, x)\n    margin y x\n\nbody\n  padding 5px 10px\n</code></pre></div><p>Another example:</p><div><pre><code>box(x, y, margin = false)\n  padding y x\n  if margin\n    margin y x\n\nbody\n  box(5px, 10px, true)\n</code></pre></div><p>Another <code class=\"highlighter-rouge\">box()</code> helper:</p><div><pre><code>box(x, y, margin-only = false)\n  if margin-only\n    margin y x\n  else\n    padding y x\n</code></pre></div><h2 id=\"unless\">unless</h2><p>For users familiar with the Ruby programming language, we have the <code class=\"highlighter-rouge\">unless</code> conditional. It’s basically the opposite of <code class=\"highlighter-rouge\">if</code>—essentially <code class=\"highlighter-rouge\">if (!(expr))</code>.</p><p>In the example below, if <code class=\"highlighter-rouge\">disable-padding-override</code> is <code class=\"highlighter-rouge\">undefined</code> or <code class=\"highlighter-rouge\">false</code>, <code class=\"highlighter-rouge\">padding</code> will be overridden, displaying <code class=\"highlighter-rouge\">margin</code> instead. But if it’s <code class=\"highlighter-rouge\">true</code>, <code class=\"highlighter-rouge\">padding</code> will continue outputting <code class=\"highlighter-rouge\">padding 5px 10px</code> as expected.</p><div><pre><code> disable-padding-override = true\n\n unless disable-padding-override is defined and disable-padding-override\n   padding(x, y)\n     margin y x\n\n body\n   padding 5px 10px\n</code></pre></div><h2 id=\"postfix-conditionals\">Postfix Conditionals</h2><p>Stylus supports postfix conditionals. This means that <code class=\"highlighter-rouge\">if</code> and <code class=\"highlighter-rouge\">unless</code> act as operators; they evaluate the left-hand operand when the right-hand expression is truthy.</p><p>For example let’s define <code class=\"highlighter-rouge\">negative()</code> to perform some basic type checking. Below we use block-style conditionals:</p><div><pre><code>  negative(n)\n    unless n is a 'unit'\n      error('invalid number')\n    if n &lt; 0\n      yes\n    else\n      no\n</code></pre></div><p>Next, we utilize postfix conditionals to keep our function terse.</p><div><pre><code>  negative(n)\n    error('invalid number') unless n is a 'unit'\n    return yes if n &lt; 0\n    no\n</code></pre></div><p>Of course, we could take this further. For example, we could write <code class=\"highlighter-rouge\">n &lt; 0 ? yes : no</code>, or simply stick with booleans: <code class=\"highlighter-rouge\">n &lt; 0</code>.</p><p>Postfix conditionals may be applied to most single-line statements. For example, <code class=\"highlighter-rouge\">@import</code>, <code class=\"highlighter-rouge\">@charset</code>, mixins—and of course, properties as shown below:</p><div><pre><code>  pad(types = margin padding, n = 5px)\n    padding unit(n, px) if padding in types\n    margin unit(n, px) if margin in types\n\n  body\n    pad()\n\n  body\n    pad(margin)\n\n  body\n    apply-mixins = true\n    pad(padding, 10) if apply-mixins\n</code></pre></div><p>yielding:</p><div><pre><code>  body {\n    padding: 5px;\n    margin: 5px;\n  }\n  body {\n    margin: 5px;\n  }\n  body {\n    padding: 10px;\n  }\n</code></pre></div></div>\n","hashes":"<div class=\"docs\"><h1>Hashes</h1><p>In <code class=\"highlighter-rouge\">0.39.0</code> version Stylus got hash objects.</p><h2 id=\"define\">Define</h2><p>You can define a hash using the curly braces and colons to divide the keys and values:</p><div><pre><code class=\"js\">foo = {\r\n  bar: baz,\r\n  baz: raz\r\n}\r\n</code></pre></div><p>the keys should be either proper idents or strings:</p><div><pre><code>foo = {\r\n  bar: baz,\r\n  'baz': raz,\r\n  '0': raz\r\n}\r\n</code></pre></div><p>When you already have a hash, you can set its values using brackets and strings inside:</p><div><pre><code>foo = {}\r\nfoo['bar'] = baz\r\nfoo['baz'] = raz\r\n</code></pre></div><p>Note that while you can’t use variables or interpolations in curly braces defines, you can use variables inside brackets:</p><div><pre><code>foo = {}\r\nbar = 'baz'\r\nfoo[bar] = raz\r\n\r\nfoo.baz\r\n// =&gt; raz\r\n</code></pre></div><h2 id=\"getters\">Getters</h2><p>For retrieving values from hashes you can use the dot for idents:</p><div><pre><code>foo = { bar: \"baz\" }\r\n\r\nfoo.bar\r\n// =&gt; \"baz\"\r\n</code></pre></div><p>Or brackets with strings for anything:</p><div><pre><code>foo = { \"%\": 10 }\r\nbaz = \"%\"\r\n\r\nfoo[baz]\r\n// =&gt; 10\r\n</code></pre></div><p>You can use any combinations you want:</p><div><pre><code>foo = {\r\n  bar: {\r\n    baz: {\r\n      raz: 10px\r\n    }\r\n  }\r\n}\r\n\r\nqux = \"raz\"\r\nfoo[\"bar\"].baz[qux]\r\n// =&gt; 10px\r\n</code></pre></div><h2 id=\"interpolation\">Interpolation</h2><p>Hashes used inside an interpolation would output the content of the hashes as CSS (without almost any Stylus features though):</p><div><pre><code>foo = {\r\n  width: 10px,\r\n  height: 20px,\r\n  '&amp;:hover': {\r\n    padding: 0\r\n\r\n  }\r\n}\r\n\r\n.bar\r\n  {foo}\r\n\r\n// =&gt; .bar {\r\n//      width: 10px;\r\n//      height: 20px;\r\n//    }\r\n//    .bar:hover {\r\n//      padding: 0;\r\n//    }\r\n</code></pre></div><h2 id=\"other-stuff\">Other stuff</h2><p>You can use other normal Stylus stuff with hashes, like <code class=\"highlighter-rouge\">length()</code>:</p><div><pre><code>foo = { bar: 'a', baz: 'b' }\r\n\r\nlength(foo)\r\n// =&gt; 2\r\n</code></pre></div><p>You can iterate through hashes with optional key param:</p><div><pre><code>foo = { width: 10px, height: 20px }\r\n\r\nfor key, value in foo\r\n  {key}: value\r\n\r\n// =&gt; width: 10px;\r\n//    height: 20px;\r\n</code></pre></div><p>You can check existence of a key in hash using <code class=\"highlighter-rouge\">in</code>:</p><div><pre><code>foo = { bar: 10px}\r\n\r\nbar in foo\r\n// =&gt; true\r\n\r\nbaz in foo\r\n// =&gt; false\r\n</code></pre></div><p>You can get keys or values of the hash using corresponding bifs:</p><div><pre><code>foo = { bar: 'a', baz: 'b' }\r\n\r\nkeys(foo)\r\n// =&gt; 'bar' 'baz'\r\n\r\nvalues(foo)\r\n// =&gt; 'a' 'b'\r\n</code></pre></div><p>You can remove a key from the hash using <code class=\"highlighter-rouge\">remove</code> bif:</p><div><pre><code>obj = { foo: 1, bar: 2 }\r\nremove(obj, 'foo')\r\n// =&gt; {\"bar\":\"(2)\"}\r\n</code></pre></div><p>And you can use <code class=\"highlighter-rouge\">merge</code> (aliased as <code class=\"highlighter-rouge\">extend</code>) to merge hashes:</p><div><pre><code>obj = {\r\n  foo: 'foo'\r\n  bar: 'bar'\r\n}\r\n\r\nobj2 = {\r\n  baz: 'baz'\r\n}\r\n\r\nmerge(obj, obj2)\r\n// =&gt; {\"foo\":\"('foo')\",\"bar\":\"('bar')\",\"baz\":\"('baz')\"}\r\n</code></pre></div></div>\r\n","iteration":"<div class=\"docs\"><h1>Iteration</h1><p>Stylus allows you to iterate expressions via the <code class=\"highlighter-rouge\">for/in</code> construct, taking the form of:</p><div><pre><code>  for &lt;val-name&gt; [, &lt;key-name&gt;] in &lt;expression&gt;\r\n</code></pre></div><p>For example:</p><div><pre><code>body\r\n  for num in 1 2 3\r\n    foo num\r\n</code></pre></div><p>Yields:</p><div><pre><code>  body {\r\n    foo: 1;\r\n    foo: 2;\r\n    foo: 3;\r\n  }\r\n</code></pre></div><p>The example below shows how to use the <code class=\"highlighter-rouge\">&lt;key-name&gt;</code>:</p><div><pre><code>  body\r\n    fonts = Impact Arial sans-serif\r\n    for font, i in fonts\r\n      foo i font\r\n</code></pre></div><p>Yielding:</p><div><pre><code>    body {\r\n      foo: 0 Impact;\r\n      foo: 1 Arial;\r\n      foo: 2 sans-serif;\r\n    }\r\n</code></pre></div><p>And here’s how you do a regular for loop</p><div><pre><code>body\r\n  for num in (1..5)\r\n    foo num\r\n</code></pre></div><p>Yields:</p><div><pre><code>body {\r\n  foo: 1;\r\n  foo: 2;\r\n  foo: 3;\r\n  foo: 4;\r\n  foo: 5;\r\n}\r\n</code></pre></div><h2 id=\"mixins\">Mixins</h2><p>We can use iteration within mixins to produce powerful functionality. For example, we can apply expression pairs as properties using interpolation and iteration.</p><p>Below we define <code class=\"highlighter-rouge\">apply()</code>, conditionally utilizing all the <code class=\"highlighter-rouge\">arguments</code> so that comma-delimited <em>and</em> expression lists are supported:</p><div><pre><code> apply(props)\r\n   props = arguments if length(arguments) &gt; 1\r\n   for prop in props\r\n     {prop[0]} prop[1]\r\n\r\n body\r\n   apply(one 1, two 2, three 3)\r\n\r\n body\r\n   list = (one 1) (two 2) (three 3)\r\n   apply(list)\r\n</code></pre></div><h2 id=\"functions\">Functions</h2><p>Stylus functions may also contain for-loops. Below are some example use-cases:</p><p>Sum:</p><div><pre><code>  sum(nums)\r\n    sum = 0\r\n    for n in nums\r\n      sum += n\r\n\r\n  sum(1 2 3)\r\n  // =&gt; 6\r\n</code></pre></div><p>join:</p><div><pre><code>  join(delim, args)\r\n    buf = ''\r\n    for arg, index in args\r\n      if index\r\n        buf += delim + arg\r\n      else\r\n        buf += arg\r\n\r\n  join(', ', foo bar baz)\r\n  // =&gt; \"foo, bar, baz\"\r\n</code></pre></div><h2 id=\"postfix\">Postfix</h2><p>Much like <code class=\"highlighter-rouge\">if</code> / <code class=\"highlighter-rouge\">unless</code> may be utilized post-statement, the same can be done with <code class=\"highlighter-rouge\">for</code>. Below are the same examples as above utilizing the postfix syntax:</p><div><pre><code>   sum(nums)\r\n     sum = 0\r\n     sum += n for n in nums\r\n\r\n\r\n   join(delim, args)\r\n     buf = ''\r\n     buf += i ? delim + arg : arg for arg, i in args\r\n</code></pre></div><p>We can also <strong>return</strong> from within a loop, below is an example returning the number when <code class=\"highlighter-rouge\">n % 2 == 0</code> evaluates to <strong>true</strong>.</p><div><pre><code> first-even(nums)\r\n   return n if n % 2 == 0 for n in nums\r\n\r\n first-even(1 3 5 5 6 3 2)\r\n // =&gt; 6\r\n</code></pre></div></div>","import":"<div class=\"docs\"><h1>@import and @require</h1><p>Stylus supports both literal <strong>@import</strong> for CSS, as well as dynamic importing or requiring of other Stylus sheets.</p><h2 id=\"literal-css\">Literal CSS</h2><p>Any filename with the extension <code class=\"highlighter-rouge\">.css</code> will become a literal. For example:</p><div><pre><code> @import \"reset.css\"\r\n</code></pre></div><p>Render the literal CSS <strong>@import</strong> shown below:</p><div><pre><code> @import \"reset.css\"\r\n</code></pre></div><h2 id=\"stylus-import\">Stylus Import</h2><p><em>Disclaimer: In all places the <strong>@import</strong> is used with Stylus sheets, the <strong>@require</strong> could be used</em></p><p>When using <strong>@import</strong> without the <code class=\"highlighter-rouge\">.css</code> extension, it’s assumed to be a Stylus sheet (e.g., <code class=\"highlighter-rouge\">@import \"mixins/border-radius\"</code>).</p><p><strong>@import</strong> works by iterating an array of directories, and checking if this file lives in any of them (similar to node’s <code class=\"highlighter-rouge\">require.paths</code>). This array defaults to a single path, which is derived from the <code class=\"highlighter-rouge\">filename</code> option’s <code class=\"highlighter-rouge\">dirname</code>. So, if your filename is <code class=\"highlighter-rouge\">/tmp/testing/stylus/main.styl</code>, then import will look in <code class=\"highlighter-rouge\">/tmp/testing/stylus/</code>.</p><p><strong>@import</strong> also supports index styles. This means when you <code class=\"highlighter-rouge\">@import blueprint</code>, it will resolve <strong>either</strong> <code class=\"highlighter-rouge\">blueprint.styl</code> <strong>or</strong> <code class=\"highlighter-rouge\">blueprint/index.styl</code>. This is really useful for libraries that want to expose all their features, while still allowing feature subsets to be imported.</p><p>For example, a common lib structure might be:</p><div><pre><code>./tablet\r\n  |-- index.styl\r\n  |-- vendor.styl\r\n  |-- buttons.styl\r\n  |-- images.styl\r\n</code></pre></div><p>In the example below, we set the <code class=\"highlighter-rouge\">paths</code> options to provide additional paths to Stylus. Within <code class=\"highlighter-rouge\">./test.styl</code>, we could then <code class=\"highlighter-rouge\">@import \"mixins/border-radius\"</code>, or <code class=\"highlighter-rouge\">@import \"border-radius\"</code> (since <code class=\"highlighter-rouge\">./mixins</code> is exposed to Stylus).</p><div><pre><code>  /**\r\n   * Module dependencies.\r\n   */\r\n\r\n  var stylus = require('../')\r\n    , str = require('fs').readFileSync(__dirname + '/test.styl', 'utf8');\r\n\r\n  var paths = [\r\n      __dirname\r\n    , __dirname + '/mixins'\r\n  ];\r\n\r\n  stylus(str)\r\n    .set('filename', __dirname + '/test.styl')\r\n    .set('paths', paths)\r\n    .render(function(err, css){\r\n      if (err) throw err;\r\n      console.log(css);\r\n    });\r\n</code></pre></div><h2 id=\"require\">Require</h2><p>Along with <code class=\"highlighter-rouge\">@import</code>, Stylus also has <code class=\"highlighter-rouge\">@require</code>. It works almost in the same way, with the exception of importing any given file only once.</p><h2 id=\"block-level-import\">Block-level import</h2><p>Stylus supports block-level import. It means that you can use <code class=\"highlighter-rouge\">@import</code> not only at root level, but also nested inside other selectors or at-rules.</p><p>If you have a <code class=\"highlighter-rouge\">bar.styl</code> with this code:</p><div><pre><code>.bar\r\n  width: 10px;\r\n</code></pre></div><p>Then you can import it inside a <code class=\"highlighter-rouge\">foo.styl</code> like this:</p><div><pre><code>.foo\r\n  @import 'bar.styl'\r\n\r\n@media screen and (min-width: 640px)\r\n  @import 'bar.styl'\r\n</code></pre></div><p>And you’ll get this compiled CSS as a result:</p><div><pre><code>.foo .bar {\r\n  width: 10px;\r\n}\r\n@media screen and (min-width: 640px) {\r\n  .bar {\r\n    width: 10px;\r\n  }\r\n}\r\n</code></pre></div><h2 id=\"file-globbing\">File globbing</h2><p>Stylus supports globbing. With it you could import many files using a file mask:</p><div><pre><code>@import 'product/*'\r\n</code></pre></div><p>This would import all the stylus sheets from the <code class=\"highlighter-rouge\">product</code> directory in such structure:</p><div><pre><code>./product\r\n  |-- body.styl\r\n  |-- foot.styl\r\n  |-- head.styl\r\n</code></pre></div><p>Note that this works with <code class=\"highlighter-rouge\">@require</code> too, so if you would have also a <code class=\"highlighter-rouge\">./product/index.styl</code> with this content:</p><div><pre><code>@require 'head'\r\n@require 'body'\r\n@require 'foot'\r\n</code></pre></div><p>then <code class=\"highlighter-rouge\">@require 'product/*'</code> would include each individual sheet only once.</p><h2 id=\"resolving-relative-urls-inside-imports\">Resolving relative urls inside imports</h2><p>By default Stylus doesn’t resolve the urls in imported <code class=\"highlighter-rouge\">.styl</code> files, so if you’d happen to have a <code class=\"highlighter-rouge\">foo.styl</code> with <code class=\"highlighter-rouge\">@import \"bar/bar.styl\"</code> which would have <code class=\"highlighter-rouge\">url(\"baz.png\")</code>, it would be <code class=\"highlighter-rouge\">url(\"baz.png\")</code> too in a resulting CSS.</p><p>But you can alter this behavior by using <code class=\"highlighter-rouge\">--resolve-url</code> (or just <code class=\"highlighter-rouge\">-r</code>) CLI option to get <code class=\"highlighter-rouge\">url(\"bar/baz.png\")</code> in your resulting CSS.</p><h2 id=\"javascript-import-api\">JavaScript Import API</h2><p>When using the <code class=\"highlighter-rouge\">.import(path)</code> method, these imports are deferred until evaluation:</p><div><pre><code>   var stylus = require('../')\r\n     , str = require('fs').readFileSync(__dirname + '/test.styl', 'utf8');\r\n\r\n   stylus(str)\r\n     .set('filename', __dirname + '/test.styl')\r\n     .import('mixins/vendor')\r\n     .render(function(err, css){\r\n     if (err) throw err;\r\n     console.log(css);\r\n   });\r\n</code></pre></div><p>The following statement…</p><div><pre><code> @import 'mixins/vendor'\r\n</code></pre></div><p>…is equivalent to…</p><div><pre><code> .import('mixins/vendor')\r\n</code></pre></div></div>\r\n","media":"<div class=\"docs\"><h1>@media</h1><p>The <code class=\"highlighter-rouge\">@media</code> queries work just as they do within regular CSS, but with Stylus’s block notation:</p><div><pre><code> @media print\r\n   #header\r\n   #footer\r\n     display none\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  @media print {\r\n    #header,\r\n    #footer {\r\n      display: none;\r\n    }\r\n  }\r\n</code></pre></div><h2 id=\"media-query-bubbling\">Media Query Bubbling</h2><p>Media queries can be nested, too, and they will be expanded to wrap the context in which they are used. For example:</p><div><pre><code>.widget\r\n  padding 10px\r\n\r\n  @media screen and (min-width: 600px)\r\n    padding 20px\r\n</code></pre></div><p>Yielding:</p><div><pre><code>.widget {\r\n  padding: 10px;\r\n}\r\n\r\n@media screen and (min-width: 600px) {\r\n  .widget {\r\n    padding: 20px;\r\n  }\r\n}\r\n</code></pre></div><h2 id=\"nested-media-queries\">Nested media queries</h2><p>You can nest <code class=\"highlighter-rouge\">@media</code>s one into another and they would combine into one:</p><div><pre><code>@media (max-width: 500px)\r\n  .foo\r\n    color: #000\r\n\r\n  @media (min-width: 100px), (min-height: 200px)\r\n    .foo\r\n      color: #100\r\n</code></pre></div><p>Would yield to</p><div><pre><code>@media (max-width: 500px) {\r\n  .foo {\r\n    color: #000;\r\n  }\r\n}\r\n@media (max-width: 500px) and (min-width: 100px), (max-width: 500px) and (min-height: 200px) {\r\n  .foo {\r\n    color: #100;\r\n  }\r\n}\r\n</code></pre></div><h2 id=\"interpolations-and-variables\">Interpolations and variables</h2><p>You can use both interpolations and variables inside media queries, so it is possible to do things like this:</p><div><pre><code>foo = 'width'\r\nbar = 30em\r\n@media (max-{foo}: bar)\r\n  body\r\n    color #fff\r\n</code></pre></div><p>This would yield</p><div><pre><code>@media (max-width: 30em) {\r\n  body {\r\n    color: #fff;\r\n  }\r\n}\r\n</code></pre></div><p>It is also possible to use expressions inside MQ:</p><div><pre><code>.foo\r\n  for i in 1..4\r\n    @media (min-width: 2**(i+7)px)\r\n      width: 100px*i\r\n</code></pre></div><p>would yield to</p><div><pre><code>@media (min-width: 256px) {\r\n  .foo {\r\n    width: 100px;\r\n  }\r\n}\r\n@media (min-width: 512px) {\r\n  .foo {\r\n    width: 200px;\r\n  }\r\n}\r\n@media (min-width: 1024px) {\r\n  .foo {\r\n    width: 300px;\r\n  }\r\n}\r\n@media (min-width: 2048px) {\r\n  .foo {\r\n    width: 400px;\r\n  }\r\n}\r\n</code></pre></div></div>\r\n","fontFace":"<div class=\"docs\"><h1>@font-face</h1><p>The <code class=\"highlighter-rouge\">@font-face</code> at-rule expects as you would expect. Simply add a block of properties after it, like so:</p><div><pre><code> @font-face\r\n   font-family Geo\r\n   font-style normal\r\n   src url(fonts/geo_sans_light/GensansLight.ttf)\r\n\r\n .ingeo\r\n   font-family Geo\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  @font-face {\r\n    font-family: Geo;\r\n    font-style: normal;\r\n    src: url(\"fonts/geo_sans_light/GensansLight.ttf\");\r\n  }\r\n  .ingeo {\r\n    font-family: Geo;\r\n  }\r\n</code></pre></div></div>","keyframes":"<div class=\"docs\"><h1>@keyframes</h1><p>Stylus supports <code class=\"highlighter-rouge\">@keyframes</code> both with curly braces or without them, you can also use interpolation both in names or steps of @keyframes:</p><div><pre><code>$keyframe-name = pulse\r\n@keyframes {$keyframe-name}\r\n  for i in 0..10\r\n    {10% * i}\r\n      opacity (i/10)\r\n</code></pre></div><p>Yielding (expanded prefixes ommited):</p><div><pre><code>@keyframes pulse {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  20% {\r\n    opacity: 0.2;\r\n  }\r\n  40% {\r\n    opacity: 0.4;\r\n  }\r\n  60% {\r\n    opacity: 0.6;\r\n  }\r\n  80% {\r\n    opacity: 0.8;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n</code></pre></div><h2 id=\"expansion\">Expansion</h2><p>By using <code class=\"highlighter-rouge\">@keyframes</code>, your rules are automatically expanded to the vendor prefixes defined by the <code class=\"highlighter-rouge\">vendors</code> variable (default: <code class=\"highlighter-rouge\">moz webkit o ms official</code>). This means we can alter it at any time for the expansion to take effect immediately.</p><p><strong>Note that expansion of <code class=\"highlighter-rouge\">@keyframes</code> to the prefixed at-rules would be removed from the Stylus 1.0 when we’d get to it</strong></p><p>For example, consider the following:</p><div><pre><code>@keyframes foo {\r\n  from {\r\n    color: black\r\n  }\r\n  to {\r\n    color: white\r\n  }\r\n}\r\n</code></pre></div><p>This expands to our three default vendors, and the official syntax:</p><div><pre><code>@-moz-keyframes foo {\r\n  from {\r\n    color: #000;\r\n  }\r\n  to {\r\n    color: #fff;\r\n  }\r\n}\r\n@-webkit-keyframes foo {\r\n  from {\r\n    color: #000;\r\n  }\r\n  to {\r\n    color: #fff;\r\n  }\r\n}\r\n@-o-keyframes foo {\r\n  from {\r\n    color: #000;\r\n  }\r\n  to {\r\n    color: #fff;\r\n  }\r\n}\r\n@keyframes foo {\r\n  from {\r\n    color: #000;\r\n  }\r\n  to {\r\n    color: #fff;\r\n  }\r\n}\r\n</code></pre></div><p>If we wanted to limit to the official syntax only, simply alter <code class=\"highlighter-rouge\">vendors</code>:</p><div><pre><code>vendors = official\r\n\r\n@keyframes foo {\r\n  from {\r\n    color: black\r\n  }\r\n  to {\r\n    color: white\r\n  }\r\n}\r\n</code></pre></div><p>Yielding:</p><div><pre><code>@keyframes foo {\r\n  from {\r\n    color: #000;\r\n  }\r\n  to {\r\n    color: #fff;\r\n  }\r\n}\r\n</code></pre></div></div>\r\n","extend":"<div class=\"docs\"><h1>@extend</h1><p>The Stylus <strong>@extend</strong> directive is inspired by (and essentially the same as) the SASS Implementation, with few subtle differences. This feature significantly simplifies maintenance of semantic rulesets that inherit from other semantic rulesets.</p><h2 id=\"extending-with-mixins\">“Extending” with mixins</h2><p>Although you can use mixins to achieve a similar effect, this can lead to duplicate CSS. A typical pattern is to define several classes as shown below, then combine them on the element such as “warning message”.</p><p>While this technique works just fine, it’s difficult to maintain.</p><div><pre><code>  .message,\r\n  .warning {\r\n    padding: 10px;\r\n    border: 1px solid #eee;\r\n  }\r\n\r\n  .warning {\r\n    color: #E2E21E;\r\n  }\r\n</code></pre></div><h2 id=\"using-extend\">Using <strong><code class=\"highlighter-rouge\">@extend</code></strong></h2><p>To produce this same output with <strong><code class=\"highlighter-rouge\">@extend</code></strong>, simply pass it the desired selector (note that <code class=\"highlighter-rouge\">@extend</code> and <code class=\"highlighter-rouge\">@extends</code> are equal, one is just an alias of another). Stylus will then append the <code class=\"highlighter-rouge\">.warning</code> selector to the existing <code class=\"highlighter-rouge\">.message</code> ruleset. The <code class=\"highlighter-rouge\">.warning</code> class then inherits properties from <code class=\"highlighter-rouge\">.message</code>.</p><div><pre><code class=\"stylus\">  .message {\r\n    padding: 10px;\r\n    border: 1px solid #eee;\r\n  }\r\n\r\n  .warning {\r\n    @extend .message;\r\n    color: #E2E21E;\r\n  }\r\n</code></pre></div><p>Here’s a more complex example, demonstrating how <strong><code class=\"highlighter-rouge\">@extend</code></strong> cascades:</p><div><pre><code>  red = #E33E1E\r\n  yellow = #E2E21E\r\n\r\n  .message\r\n    padding: 10px\r\n    font: 14px Helvetica\r\n    border: 1px solid #eee\r\n\r\n  .warning\r\n    @extends .message\r\n    border-color: yellow\r\n    background: yellow + 70%\r\n\r\n  .error\r\n    @extends .message\r\n    border-color: red\r\n    background: red + 70%\r\n\r\n  .fatal\r\n    @extends .error\r\n    font-weight: bold\r\n    color: red\r\n</code></pre></div><p>Yielding the following CSS:</p><div><pre><code>  .message,\r\n  .warning,\r\n  .error,\r\n  .fatal {\r\n    padding: 10px;\r\n    font: 14px Helvetica;\r\n    border: 1px solid #eee;\r\n  }\r\n  .warning {\r\n    border-color: #e2e21e;\r\n    background: #f6f6bc;\r\n  }\r\n  .error,\r\n  .fatal {\r\n    border-color: #e33e1e;\r\n    background: #f7c5bc;\r\n  }\r\n  .fatal {\r\n    font-weight: bold;\r\n    color: #e33e1e;\r\n  }\r\n</code></pre></div><p>Where Stylus currently differs from SASS is, SASS won’t allow <strong><code class=\"highlighter-rouge\">@extend</code></strong> nested selectors:</p><div><pre><code> form\r\n   button\r\n     padding: 10px\r\n\r\n a.button\r\n   @extend form button\r\n Syntax error: Can't extend form button: can't extend nested selectors\r\n         on line 6 of standard input\r\n   Use --trace for backtrace.\r\n</code></pre></div><p>With Stylus, as long as the selectors match, it works!</p><div><pre><code>   form\r\n     input[type=text]\r\n       padding: 5px\r\n       border: 1px solid #eee\r\n       color: #ddd\r\n\r\n   textarea\r\n     @extends form input[type=text]\r\n     padding: 10px\r\n</code></pre></div><p>Yielding:</p><div><pre><code>    form input[type=text],\r\n    textarea {\r\n      padding: 5px;\r\n      border: 1px solid #eee;\r\n      color: #ddd;\r\n    }\r\n    textarea {\r\n      padding: 10px;\r\n    }\r\n</code></pre></div><h2 id=\"extending-multiple-selectors\">Extending multiple selectors</h2><p>Stylus allows you to extend multiple selectors at once, just write them with the comma:</p><div><pre><code>.a\r\n  color: red\r\n\r\n.b\r\n  width: 100px\r\n\r\n.c\r\n  @extend .a, .b\r\n  height: 200px\r\n</code></pre></div><p>Yielding:</p><div><pre><code>.a,\r\n.c {\r\n  color: #f00;\r\n}\r\n.b,\r\n.c {\r\n  width: 100px;\r\n}\r\n.c {\r\n  height: 200px;\r\n}\r\n</code></pre></div><h2 id=\"extending-placeholder-selectors\">Extending placeholder selectors</h2><p>Stylus has a feature similar to the one in Sass — placeholder selectors.</p><p>Those selectors should start with a <code class=\"highlighter-rouge\">$</code> symbol (for example, <code class=\"highlighter-rouge\">$foo</code>), and are not yielded in the resulting CSS. But you can still extend them:</p><div><pre><code>$foo\r\n  color: #FFF\r\n\r\n$foo2\r\n  color: red\r\n\r\n.bar\r\n  background: #000\r\n  @extends $foo\r\n\r\n.baz\r\n  @extends $foo\r\n</code></pre></div><p>Yielding:</p><div><pre><code>.bar,\r\n.baz {\r\n  color: #fff;\r\n}\r\n.bar {\r\n  background: #000;\r\n}\r\n</code></pre></div><p>Note that if the selector is not extended, it won’t be in the resulting CSS, so it’s a powerful way to create a library of extendable code. While you can insert code through mixins, they would insert the same code every time you use them, while extending placeholders would give you compact output.</p><h2 id=\"optional-extending\">Optional extending</h2><p>Sometimes it might be usefull to be able to extend something that might exists or not depending on the context. You can suffix any selector by <code class=\"highlighter-rouge\">!optional</code> to achieve this:</p><div><pre><code>$specialDesign\r\n  color: #FFF\r\n\r\n.btn\r\n  @extend .design !optional, $specialDesign !optional\r\n</code></pre></div><p>Yielding:</p><div><pre><code>.btn {\r\n  color: #fff;\r\n}\r\n</code></pre></div></div>\r\n","block":"<div class=\"docs\"><h1>@block</h1><p>You can assign any block of code in Stylus to a variable and then call it, pass as an argument or reuse in any other way.</p><p>To define a block, either write it down with an increased indent after an assign sign:</p><div><pre><code>foo =\n  width: 20px\n  height: 20px\n</code></pre></div><p>or use a curly braces syntax with <code class=\"highlighter-rouge\">@block</code> keyword:</p><div><pre><code>foo = @block {\n  width: 20px\n  height: 20px\n}\n</code></pre></div><p>if you would like to render this block anywhere, you could call this variable inside an interpolation, so</p><div><pre><code>.icon\n  {foo}\n</code></pre></div><p>would render to</p><div><pre><code>.icon {\n  width: 20px;\n  height: 20px;\n}\n</code></pre></div><p>BTW, this is the same way you can use the blocks passed to the block mixins.</p><p>Right now you can only pass the variable as any other variable and render it inside an interpolation. In future we would provide more ways of handling it.</p></div>","functionsUrl":"<div class=\"docs\"><h1>url()</h1><h2 id=\"data-uri-image-inlining\">Data URI Image Inlining</h2><p>Stylus is bundled with an optional function named <code class=\"highlighter-rouge\">url()</code>, which replaces the literal <code class=\"highlighter-rouge\">url()</code> calls (and conditionally inlines them using base64 Data URIs).</p><h2 id=\"example\">Example</h2><p>The function itself is available via <code class=\"highlighter-rouge\">require('stylus').url</code>. It accepts an <code class=\"highlighter-rouge\">options</code> object, returning a function that Stylus calls internally when it sees <code class=\"highlighter-rouge\">url()</code>.</p><p>The <code class=\"highlighter-rouge\">.define(name, callback)</code> method assigned a JavaScript function that can be called from Stylus source. In this case, since our images are in <code class=\"highlighter-rouge\">./css/images</code>, we can ignore the <code class=\"highlighter-rouge\">paths</code> option (by default image lookups are performed relative to the file being rendered). But if desired, this behavior can be altered:</p><div><pre><code>stylus(str)\r\n  .set('filename', __dirname + '/css/test.styl')\r\n  .define('url', stylus.url())\r\n  .render(function(err, css){\r\n    // render it\r\n  });\r\n</code></pre></div><p>For example, imagine our images live in <code class=\"highlighter-rouge\">./public/images</code>. We want to use <code class=\"highlighter-rouge\">url(images/tobi.png)</code>. We could pass <code class=\"highlighter-rouge\">paths</code> our public directory, so that it becomes part of the lookup process.</p><p>Likewise, if instead we wanted <code class=\"highlighter-rouge\">url(tobi.png)</code>, we could pass <code class=\"highlighter-rouge\">paths: [__dirname + '/public/images']</code>.</p><div><pre><code>stylus(str)\r\n  .set('filename', __dirname + '/css/test.styl')\r\n  .define('url', stylus.url({ paths: [__dirname + '/public'] }))\r\n  .render(function(err, css){\r\n    // render it\r\n  });\r\n</code></pre></div><h3 id=\"utf8-encoding-for-svgs\"><code class=\"highlighter-rouge\">utf8</code> encoding for SVGs</h3><p>Since base64 encoding an image actually increases the original size, you have the option to use <code class=\"highlighter-rouge\">utf8</code> encoding when inlining SVGs.</p><p>There is a bif for this: <code class=\"highlighter-rouge\">embedurl</code>:</p><div><pre><code>.embed-with-utf8 {\r\n  background-image: embedurl(\"circle.svg\", \"utf8\");\r\n}\r\n</code></pre></div><p>Would result in utf-encoded inline SVG instead of base64 one.</p><p>If you’d like to use the JS define so you could use the <code class=\"highlighter-rouge\">paths</code> alongside the utf encoding, you’ll need to define it using another name, not <code class=\"highlighter-rouge\">url()</code>. This is Due to how <code class=\"highlighter-rouge\">url()</code> function is parsed in Stylus: it is impossible now to pass the extra param to it, so you couldn’t just call <code class=\"highlighter-rouge\">url</code> with the second param to set the encoding. But if you’d define the <code class=\"highlighter-rouge\">url</code> with another name:</p><div><pre><code>stylus(str)\r\n  .set('filename', __dirname + '/css/test.styl')\r\n  .define('inline-url', stylus.url({ paths: [__dirname + '/public'] }))\r\n  .render(function(err, css){\r\n    // render it\r\n  });\r\n</code></pre></div><p>You could then use <code class=\"highlighter-rouge\">inline-url</code> bif just like you can use <code class=\"highlighter-rouge\">embedurl</code>, but with an added <code class=\"highlighter-rouge\">paths</code> functionality:</p><div><pre><code>.embed-with-utf8-at-path {\r\n  background-image: inline-url(\"tobi.svg\", \"utf8\");\r\n}\r\n</code></pre></div><h2 id=\"options\">Options</h2><ul><li><code class=\"highlighter-rouge\">limit</code> bytesize limit defaulting to 30Kb (30000), use <code class=\"highlighter-rouge\">false</code> to disable the limit</li><li><code class=\"highlighter-rouge\">paths</code> image resolution path(s)</li></ul></div>\r\n","literal":"<div class=\"docs\"><h1>CSS Literal</h1><p>If for any reason Stylus cannot accommodate a specific need, you can always resort to literal CSS with <code class=\"highlighter-rouge\">@css</code>:</p><div><pre><code>@css {\r\n    .ie-opacity {\r\n        filter: progid:DXImageTransform.Microsoft.Alpha(opacity=25);\r\n        -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(opacity=25)\";\r\n    }\r\n}\r\n</code></pre></div><p>Compiling to:</p><div><pre><code>.ie-opacity {\r\n        filter: progid:DXImageTransform.Microsoft.Alpha(opacity=25);\r\n        -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(opacity=25)\";\r\n}\r\n</code></pre></div></div>","cssStyle":"<div class=\"docs\"><h1>CSS Style Syntax</h1><p>Stylus transparently supports a regular CSS-style syntax. This means you don’t need an alternative parser, or specify that a certain file uses a specific style.</p><h2 id=\"example\">Example</h2><p>Below is a small style using the indented approach:</p><div><pre><code> border-radius()\r\n   -webkit-border-radius arguments\r\n   -moz-border-radius arguments\r\n   border-radius arguments\r\n\r\n body a\r\n   font 12px/1.4 \"Lucida Grande\", Arial, sans-serif\r\n   background black\r\n   color #ccc\r\n\r\n form input\r\n   padding 5px\r\n   border 1px solid\r\n   border-radius 5px\r\n</code></pre></div><p>Since braces, colons, and semi-colons are optional, we could write this example just as we would with normal CSS:</p><div><pre><code> border-radius() {\r\n   -webkit-border-radius: arguments;\r\n   -moz-border-radius: arguments;\r\n   border-radius: arguments;\r\n }\r\n\r\n body a {\r\n   font: 12px/1.4 \"Lucida Grande\", Arial, sans-serif;\r\n   background: black;\r\n   color: #ccc;\r\n }\r\n\r\n form input {\r\n   padding: 5px;\r\n   border: 1px solid;\r\n   border-radius: 5px;\r\n }\r\n</code></pre></div><p>While Stylus don’t support <em>every</em> possible CSS-like syntax, if can understand even such code:</p><div><pre><code>    border-radius() {\r\n      -webkit-border-radius: arguments;\r\n      -moz-border-radius: arguments;\r\n      border-radius: arguments;\r\n    }\r\n\r\nbody a\r\n{\r\n  font: 12px/1.4 \"Lucida Grande\", Arial, sans-serif;\r\n    background: black;\r\n  color: #ccc;\r\n}\r\n\r\n    form input {\r\n      padding: 5px;\r\n  border: 1px solid;\r\n      border-radius: 5px;\r\n      }\r\n</code></pre></div><p>Since we may mix and match the two variants, the following is valid as well:</p><div><pre><code> border-radius()\r\n   -webkit-border-radius: arguments;\r\n   -moz-border-radius: arguments;\r\n   border-radius: arguments;\r\n\r\n body a {\r\n   font: 12px/1.4 \"Lucida Grande\", Arial, sans-serif;\r\n   background: black;\r\n   color: #ccc;\r\n }\r\n\r\n form input\r\n   padding: 5px;\r\n   border: 1px solid;\r\n   border-radius: 5px;\r\n</code></pre></div><p>Variables, functions, mixins, and all the other features provided by Stylus still work as expected:</p><div><pre><code> main-color = white\r\n main-hover-color = black\r\n\r\n body a {\r\n   color: main-color;\r\n   &amp;:hover { color: main-hover-color; }\r\n }\r\n\r\n body a { color: main-color; &amp;:hover { color: main-hover-color; }}\r\n</code></pre></div><p>There are a few caveats to this rule: since the two styles may be mixed and matched, some indentation rules still apply. So although not <em>every</em> plain-CSS stylesheet will work with zero modification, this feature allows those who prefer CSS syntax to continue doing so while leveraging Stylus’ other powerful features.</p></div>\r\n","escape":"<div class=\"docs\"><h1>Char Escaping</h1><p>Stylus lets you escape characters. This effectively turns them into identifiers, allowing them to be rendered as literals.</p><p>For example:</p><div><pre><code> body\r\n   padding 1 \\+ 2\r\n</code></pre></div><p>Compiles to:</p><div><pre><code> body {\r\n   padding: 1 + 2;\r\n }\r\n</code></pre></div><p>Note that Stylus requires that <code class=\"highlighter-rouge\">/</code> is parenthesized when used in a property:</p><div><pre><code>body\r\n  font 14px/1.4\r\n  font (14px/1.4)\r\n</code></pre></div><p>yields:</p><div><pre><code>body {\r\n  font: 14px/1.4;\r\n  font: 10px;\r\n}\r\n</code></pre></div></div>","errorReporting":"<div class=\"docs\"><h1>Error Reporting</h1><p>Stylus has fantastic error reporting built-in for syntax, parse, and evaluation errors—complete with stack traces, line numbers, and filenames.</p><h2 id=\"parse-error\">Parse Error</h2><p>Parse error example:</p><div><pre><code> body\r\n   form input\r\n     == padding 5px\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  ParseError: test.styl:3:16\r\n    1| body\r\n    2|    form input\r\n    3|      == padding 5px\r\n ---------------------^\r\n    4|\r\n\r\n  illegal unary \"==\", missing left-hand operand\r\n</code></pre></div><h2 id=\"evaluation-error\">Evaluation Error</h2><p>This “runtime” or evaluation error is caused by passing a string to <code class=\"highlighter-rouge\">border-radius()</code>, instead of the expected <code class=\"highlighter-rouge\">Unit</code> (by using our helper <code class=\"highlighter-rouge\">ensure(n, 'unit')</code>).</p><div><pre><code>  ensure(val, type)\r\n    unless val is a type\r\n      error('expected a ' + type + ', but got ' + typeof(val))\r\n\r\n  border-radius(n)\r\n    ensure(n, 'unit')\r\n    -webkit-border-radius n\r\n    -moz-border-radius n\r\n    border-radius n\r\n\r\n  body\r\n    border-radius '5px'\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  Error: test.styl:3:62\r\n    1| ensure(val, type)\r\n    2|     unless val is a type\r\n    3|       error('expected a ' + type + ', but got ' + typeof(val))\r\n -------------------------------------------------------------------^\r\n    4|\r\n    5| border-radius(n)\r\n    6|   ensure(n, 'unit')\r\n\r\n  expected a unit, but got string\r\n      at ensure() (test.styl:2:17)\r\n      at border-radius() (test.styl:6:16)\r\n      at \"body\" (test.styl:10:18)\r\n</code></pre></div></div>\r\n","middleware":"<div class=\"docs\"><h1>Connect Middleware</h1><p>Stylus ships with Connect middleware for auto-compiling Stylus sheets whenever they’re modified.</p><h2 id=\"stylusmiddlewareoptions\">stylus.middleware(options)</h2><h3 id=\"options\">Options</h3><p>Return Connect middleware with the given <code class=\"highlighter-rouge\">options</code>.</p><div><pre><code>  `serve`     Serve the stylus files from `dest` [true]\r\n  `force`     Always re-compile\r\n  `src`       Source directory used to find .styl files\r\n  `dest`      Destination directory used to output .css files\r\n              when undefined defaults to `src`.\r\n  `compile`   Custom compile function, accepting the arguments\r\n              `(str, path)`.\r\n  `compress`  Whether the output .css files should be compressed\r\n  `firebug`   Emits debug infos in the generated css that can\r\n              be used by the FireStylus Firebug plugin\r\n  `linenos`   Emits comments in the generated css indicating\r\n              the corresponding stylus line\r\n  `sourcemap` Generates a sourcemap in sourcemaps v3 format\r\n</code></pre></div><h3 id=\"examples\">Examples</h3><p>Serve .styl files from ./public:</p><div><pre><code>var app = connect();\r\n\r\napp.middleware(__dirname + '/public');\r\n</code></pre></div><p>Change the <code class=\"highlighter-rouge\">src</code> and <code class=\"highlighter-rouge\">dest</code> options to alter where .styl files are loaded and where they’re saved:</p><div><pre><code> var app = connect();\r\n\r\n app.middleware({\r\n   src: __dirname + '/stylesheets',\r\n   dest: __dirname + '/public'\r\n });\r\n</code></pre></div><p>Here we set up the custom compile function so that we may set the <code class=\"highlighter-rouge\">compress</code> option, or define additional functions.</p><p>By default the compile function simply sets the <code class=\"highlighter-rouge\">filename</code> and renders the CSS. In the following case we’re compressing the output, using the “nib” library plugin, and auto-importing it.</p><div><pre><code> function compile(str, path) {\r\n   return stylus(str)\r\n     .set('filename', path)\r\n     .set('compress', true)\r\n     .use(nib())\r\n     .import('nib');\r\n }\r\n</code></pre></div><p>Pass it as an option like so:</p><div><pre><code> var app = connect();\r\n\r\n app.middleware({\r\n     src: __dirname\r\n   , dest: __dirname + '/public'\r\n   , compile: compile\r\n })\r\n</code></pre></div></div>\r\n","introspection":"<div class=\"docs\"><h1>Introspection API</h1><p>Stylus supports an introspection API. This allows mixins and functions to reflect relative to the caller, etc.</p><h2 id=\"mixin\">mixin</h2><p>The <code class=\"highlighter-rouge\">mixin</code> local variable is automatically assigned within function bodies. It contains the string <code class=\"highlighter-rouge\">root</code> if the function was called at the root level, or <code class=\"highlighter-rouge\">block</code> indicating otherwise, and finally <code class=\"highlighter-rouge\">false</code> if the invoked function expects a return value.</p><p>In the following example, we define <code class=\"highlighter-rouge\">reset()</code> to alter its behaviour depending on whether it’s mixed into root, into another block, or into a return value, as used in the <code class=\"highlighter-rouge\">foo</code> property below:</p><div><pre><code>  reset()\r\n    if mixin == 'root'\r\n      got\r\n        root true\r\n    else if mixin\r\n      got 'a mixin'\r\n    else\r\n      'not a mixin'\r\n\r\n  reset()\r\n\r\n  body\r\n    reset()\r\n    foo reset()\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>    got {\r\n      root: true;\r\n    }\r\n    body {\r\n      foo: \"not a mixin\";\r\n      got: \"a mixin\";\r\n    }\r\n</code></pre></div></div>\r\n","sourcemaps":"<div class=\"docs\"><h1>Sourcemaps</h1><p>Stylus supports basic sourcemaps according to the Sourcemap v3 spec.</p><h2 id=\"create-a-sourcemap\">Create a sourcemap</h2><p>Pass the <code class=\"highlighter-rouge\">--sourcemap</code> flag (or <code class=\"highlighter-rouge\">-m</code>) with a Stylus file. This will create a <code class=\"highlighter-rouge\">style.css</code> file, and a <code class=\"highlighter-rouge\">style.css.map</code> file as siblings to your <code class=\"highlighter-rouge\">style.styl</code> and place a sourcemap link at the bottom of <code class=\"highlighter-rouge\">style.css</code> to your sourcemap.</p><p><code class=\"highlighter-rouge\">stylus -m style.styl</code></p><p>You can also run this command while watching a file. For instance: <code class=\"highlighter-rouge\">stylus -w -m style.styl</code>. This will update your sourcemap everytime you save.</p><h2 id=\"javascript-api\">JavaScript API</h2><p>Set the <code class=\"highlighter-rouge\">sourcemap</code> setting with an options object or a boolean value:</p><div><pre><code>var stylus = require('stylus');\r\n\r\nvar style = stylus(str)\r\n  .set('filename', 'file.styl')\r\n  .set('sourcemap', options);\r\n\r\nstyle.render(function(err, css) {\r\n  // generated sourcemap object\r\n  console.log(style.sourcemap);\r\n});\r\n</code></pre></div><h3 id=\"options\">Options</h3><div><pre><code>`comment`     Adds a comment with the `sourceMappingURL` to the generated CSS (default: `true`)\r\n`inline`      Inlines the sourcemap with full source text in base64 format (default: `false`)\r\n`sourceRoot`  \"sourceRoot\" property of the generated sourcemap\r\n`basePath`    Base path from which sourcemap and all sources are relative (default: `.`)\r\n</code></pre></div></div>\r\n","atrules":"<div class=\"docs\"><h1>Other @-rules</h1><p>Stylus have a basic support for braceless syntax for most of the CSS @-rules, like <code class=\"highlighter-rouge\">@viewport</code>, <code class=\"highlighter-rouge\">@page</code>, <code class=\"highlighter-rouge\">@host</code>, <code class=\"highlighter-rouge\">@supports</code> and others:</p><div><pre><code>@viewport\n  color: #00f\n\n@supports (display: flex)\n  div\n    display: flex\n\n@page :blank\n  @top-center\n    content: none\n</code></pre></div><p>Would compile to</p><div><pre><code>@viewport {\n  color: #00f;\n}\n@supports (display: flex) {\n  div {\n    display: flex;\n  }\n}\n@page :blank {\n  @top-center {\n    content: none;\n  }\n}\n</code></pre></div><h2 id=\"unknown-at-rules\">Unknown at-rules</h2><p>Stylus supports any yet unknown @-rules, so it is future-friendly, as any new at-rules in CSS could be written in indentation-based syntax of Stylus and would be rendered perfectly:</p><div><pre><code>@foo\n  @bar\n    width: 10px\n\n    .baz\n      height: 10px\n</code></pre></div><p>Would be compiled to</p><div><pre><code>@foo {\n  @bar {\n    width: 10px;\n    .baz {\n      height: 10px;\n    }\n  }\n}\n</code></pre></div></div>","selectors":"<div class=\"docs\"><h1>Selectors</h1><h2 id=\"indentation\">Indentation</h2><p>Stylus is “pythonic” (i.e. indentation-based). Whitespace is significant, so we substitute <code class=\"highlighter-rouge\">{</code> and <code class=\"highlighter-rouge\">}</code> with an <em>indent</em>, and an <em>outdent</em> as shown below:</p><div><pre><code>body\r\n  color white\r\n</code></pre></div><p>Which compiles to:</p><div><pre><code>body {\r\n  color: #fff;\r\n}\r\n</code></pre></div><p>If preferred, you can use colons to separate properties and values:</p><div><pre><code>body\r\n  color: white\r\n</code></pre></div><h2 id=\"rule-sets\">Rule Sets</h2><p>Stylus, just like CSS, allows you to define properties for several selectors at once through comma separation.</p><div><pre><code>textarea, input\r\n  border 1px solid #eee\r\n</code></pre></div><p>The same can be done with a newline:</p><div><pre><code>textarea\r\ninput\r\n  border 1px solid #eee\r\n</code></pre></div><p>Both compile to:</p><div><pre><code>textarea,\r\ninput {\r\n  border: 1px solid #eee;\r\n}\r\n</code></pre></div><p><strong>The only exception to this rule</strong> are selectors that look like properties. For example, the following <code class=\"highlighter-rouge\">foo bar baz</code> might be a property <strong>or</strong> a selector:</p><div><pre><code>foo bar baz\r\n&gt; input\r\n  border 1px solid\r\n</code></pre></div><p>So for this reason (or simply if preferred), we may trail with a comma:</p><div><pre><code>foo bar baz,\r\nform input,\r\n&gt; a\r\n  border 1px solid\r\n</code></pre></div><h2 id=\"parent-reference\">Parent Reference</h2><p>The <code class=\"highlighter-rouge\">&amp;</code> character references the parent selector(s). In the example below our two selectors (<code class=\"highlighter-rouge\">textarea</code> and <code class=\"highlighter-rouge\">input</code>) both alter the <code class=\"highlighter-rouge\">color</code> on the <code class=\"highlighter-rouge\">:hover</code> pseudo selector.</p><div><pre><code>textarea\r\ninput\r\n  color #A7A7A7\r\n  &amp;:hover\r\n    color #000\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>textarea,\r\ninput {\r\n  color: #a7a7a7;\r\n}\r\ntextarea:hover,\r\ninput:hover {\r\n  color: #000;\r\n}\r\n</code></pre></div><p>Below is an example providing a simple <code class=\"highlighter-rouge\">2px</code> border for Internet Explorer utilizing the parent reference within a mixin:</p><div><pre><code>  box-shadow()\r\n    -webkit-box-shadow arguments\r\n    -moz-box-shadow arguments\r\n    box-shadow arguments\r\n    html.ie8 &amp;,\r\n    html.ie7 &amp;,\r\n    html.ie6 &amp;\r\n      border 2px solid arguments[length(arguments) - 1]\r\n\r\n  body\r\n    #login\r\n      box-shadow 1px 1px 3px #eee\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  body #login {\r\n    -webkit-box-shadow: 1px 1px 3px #eee;\r\n    -moz-box-shadow: 1px 1px 3px #eee;\r\n    box-shadow: 1px 1px 3px #eee;\r\n  }\r\n  html.ie8 body #login,\r\n  html.ie7 body #login,\r\n  html.ie6 body #login {\r\n    border: 2px solid #eee;\r\n  }\r\n</code></pre></div><p>If you’d need to use the ampersand symbol in a selector without it behaving like a parent reference, you can just escape it:</p><div><pre><code>.foo[title*='\\&amp;']\r\n// =&gt; .foo[title*='&amp;']\r\n</code></pre></div><h2 id=\"partial-reference\">Partial Reference</h2><p><code class=\"highlighter-rouge\">^[N]</code> anywhere in a selector, where <code class=\"highlighter-rouge\">N</code> can be a number, represents a partial reference.</p><p>Partial reference works similar to the parent reference, but while parent reference contains the whole selector, partial selectors contain only the first merged <code class=\"highlighter-rouge\">N</code> levels of the nested selectors, so you could access those nesting levels individually.</p><p>The <code class=\"highlighter-rouge\">^[0]</code> would give you the selector from the first level, the <code class=\"highlighter-rouge\">^[1]</code> would give you the rendered selector from the second level and so on:</p><div><pre><code>.foo\r\n  &amp;__bar\r\n    width: 10px\r\n\r\n    ^[0]:hover &amp;\r\n      width: 20px\r\n</code></pre></div><p>would be rendered as</p><div><pre><code>.foo__bar {\r\n  width: 10px;\r\n}\r\n.foo:hover .foo__bar {\r\n  width: 20px;\r\n}\r\n</code></pre></div><p>Negative values are counting from the end, so ^[-1] would give you the last selector from the chain before <code class=\"highlighter-rouge\">&amp;</code>:</p><div><pre><code>.foo\r\n  &amp;__bar\r\n    &amp;_baz\r\n      width: 10px\r\n\r\n      ^[-1]:hover &amp;\r\n        width: 20px\r\n</code></pre></div><p>would be rendered as</p><div><pre><code>.foo__bar_baz {\r\n  width: 10px;\r\n}\r\n.foo__bar:hover .foo__bar_baz {\r\n  width: 20px;\r\n}\r\n</code></pre></div><p>Negative values are especially helpful for usage inside mixins when you don’t know at what nesting level you’re calling it.</p><hr><p>Note that partial reference contain the whole rendered chain of selectors until the given nesting level, not the “part” of the selector.</p><h3 id=\"ranges-in-partial-references\">Ranges in partial references</h3><p><code class=\"highlighter-rouge\">^[N..M]</code> anywhere in a selector, where both <code class=\"highlighter-rouge\">N</code> and <code class=\"highlighter-rouge\">M</code> can be numbers, represents a partial reference.</p><p>If you’d have a case when you’d need to get the raw part of the selector, or to get the range of parts programmatically, you could use ranges inside partial reference.</p><p>If the range would start from the positive value, the result won’t contain the selectors of the previous levels and you’d get the result as if the selectors of those levels were inserted at the root of the stylesheet with the combinators omitted:</p><div><pre><code>.foo\r\n  &amp; .bar\r\n    width: 10px\r\n\r\n    ^[0]:hover ^[1..-1]\r\n      width: 20px\r\n</code></pre></div><p>would be rendered as</p><div><pre><code>.foo .bar {\r\n  width: 10px;\r\n}\r\n.foo:hover .bar {\r\n  width: 20px;\r\n}\r\n</code></pre></div><p>One number in the range would be the start index, the second — the end index. Note that the order of those numbers won’t matter as the selectors would always render from the first levels to the last, so <code class=\"highlighter-rouge\">^[1..-1]</code> would be equal to the <code class=\"highlighter-rouge\">^[-1..1]</code>.</p><p>When both numbers are equal, the result would be just one raw level of a selector, so you could replace <code class=\"highlighter-rouge\">^[1..-1]</code> in a previous example to <code class=\"highlighter-rouge\">^[-1..-1]</code>, and it would be equal to the same last one raw selector, but would be more reliable if used inside mixins.</p><h2 id=\"initial-reference\">Initial Reference</h2><p>The <code class=\"highlighter-rouge\">~/</code> characters at the start of a selector can be used to point at the selector at the first nesting and could be considered as a shortcut to <code class=\"highlighter-rouge\">^[0]</code>. The only drawback is that you can use initial reference only at the start of a selector:</p><div><pre><code>.block\r\n  &amp;__element\r\n    ~/:hover &amp;\r\n      color: red\r\n</code></pre></div><p>Would be rendered as</p><div><pre><code>.block:hover .block__element {\r\n  color: #f00;\r\n}\r\n</code></pre></div><h2 id=\"relative-reference\">Relative Reference</h2><p>The <code class=\"highlighter-rouge\">../</code> characters at the start of a selector mark a relative reference, which points to the previous to the <code class=\"highlighter-rouge\">&amp;</code> compiled selector. You can nest relative reference: <code class=\"highlighter-rouge\">../../</code> to get deeper levels, but note that it can be used only at the start of the selector.</p><div><pre><code>.foo\r\n  .bar\r\n    width: 10px\r\n\r\n    &amp;,\r\n    ../ .baz\r\n      height: 10px\r\n</code></pre></div><p>would be rendered as</p><div><pre><code>.foo .bar {\r\n  width: 10px;\r\n}\r\n.foo .bar,\r\n.foo .baz {\r\n  height: 10px;\r\n}\r\n</code></pre></div><p>Relative references can be considered as shortcuts to the partial references with ranges like <code class=\"highlighter-rouge\">^[0..-(N + 1)]</code> where the <code class=\"highlighter-rouge\">N</code> is the number of relative references used.</p><h2 id=\"root-reference\">Root Reference</h2><p>The <code class=\"highlighter-rouge\">/</code> character at the start of a selector is a root reference. It references the root context and this means the selector won’t prepend the parent’s selector to it (unless you would use it with <code class=\"highlighter-rouge\">&amp;</code>). It is helpful when you need to write some styles both to some nested selector and to another one, not in the current scope.</p><div><pre><code>textarea\r\ninput\r\n  color #A7A7A7\r\n  &amp;:hover,\r\n  /.is-hovered\r\n    color #000\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>textarea,\r\ninput {\r\n  color: #a7a7a7;\r\n}\r\ntextarea:hover,\r\ninput:hover,\r\n.is-hovered {\r\n  color: #000;\r\n}\r\n</code></pre></div><h2 id=\"selector-bif\">selector() bif</h2><p>You can use the built-in <code class=\"highlighter-rouge\">selector()</code> to get the current compiled selector. Could be used inside mixins for checks or other clever things.</p><div><pre><code>.foo\r\n  selector()\r\n// =&gt; '.foo'\r\n\r\n.foo\r\n  &amp;:hover\r\n    selector()\r\n// '.foo:hover'\r\n</code></pre></div><p>This bif could also accept an optional string argument, in this case it would return the compiled selector. Note that it wouldn’t prepend the selector of the current scope in case it don’t have any <code class=\"highlighter-rouge\">&amp;</code> symbols.</p><div><pre><code>.foo\r\n  selector('.bar')\r\n// =&gt; '.bar'\r\n\r\n.foo\r\n  selector('&amp;:hover')\r\n// '.foo:hover'\r\n</code></pre></div><h3 id=\"multiple-values-for-selector-bif\">Multiple values for <code class=\"highlighter-rouge\">selector()</code> bif</h3><p><code class=\"highlighter-rouge\">selector()</code> bif can accept multiple values or a comma-separated list in order to create a nested selector structure easier.</p><div><pre><code>{selector('.a', '.b', '.c, .d')}\r\n  color: red\r\n</code></pre></div><p>would be equal to the</p><div><pre><code>.a\r\n  .b\r\n    .c,\r\n    .d\r\n      color: red\r\n</code></pre></div><p>and would be rendered as</p><div><pre><code>.a .b .c,\r\n.a .b .d {\r\n  color: #f00;\r\n}\r\n</code></pre></div><h2 id=\"selectors-bif\">selectors() bif</h2><p>This bif returns a comma-separated list of nested selectors for the current level:</p><div><pre><code>.a\r\n  .b\r\n    &amp;__c\r\n      content: selectors()\r\n</code></pre></div><p>would be rendered as</p><div><pre><code>.a .b__c {\r\n  content: '.a', '&amp; .b', '&amp;__c';\r\n}\r\n</code></pre></div><h2 id=\"disambiguation\">Disambiguation</h2><p>Expressions such as <code class=\"highlighter-rouge\">margin - n</code> could be interpreted both as a subtraction operation, as well as a property with an unary minus. To disambiguate, wrap the expression with parens:</p><div><pre><code>pad(n)\r\n  margin (- n)\r\n\r\nbody\r\n  pad(5px)\r\n</code></pre></div><p>Compiles to:</p><div><pre><code>body {\r\n  margin: -5px;\r\n}\r\n</code></pre></div><p>However, this is only true in functions (since functions act both as mixins, or calls with return values).</p><p>For example, the following is fine (and yields the same results as above):</p><div><pre><code>body\r\n  margin -5px\r\n</code></pre></div><p>Have weird property values that Stylus can’t process? <code class=\"highlighter-rouge\">unquote()</code> can help you out:</p><div><pre><code>filter unquote('progid:DXImageTransform.Microsoft.BasicImage(rotation=1)')\r\n</code></pre></div><p>Yields:</p><div><pre><code>filter progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\r\n</code></pre></div></div>\r\n","functions":"<div class=\"docs\"><h1>Functions</h1><p>Stylus features powerful in-language function definitions. Function definitions appear identical to mixins; however, functions may return a value.</p><h2 id=\"return-values\">Return Values</h2><p>Let’s try a trivial example: creating a function that adds two numbers.</p><div><pre><code>add(a, b)\r\n  a + b\r\n</code></pre></div><p>We can then use this function in conditions, in property values, etc.</p><div><pre><code> body\r\n   padding add(10px, 5)\r\n</code></pre></div><p>Rendering:</p><div><pre><code> body {\r\n   padding: 15px;\r\n }\r\n</code></pre></div><h2 id=\"argument-defaults\">Argument Defaults</h2><p>Optional arguments may default to a given expression. With Stylus we may even default arguments to earlier arguments!</p><p>For example:</p><div><pre><code> add(a, b = a)\r\n   a + b\r\n\r\n add(10, 5)\r\n // =&gt; 15\r\n\r\n add(10)\r\n // =&gt; 20\r\n</code></pre></div><p><strong>Note:</strong> Since argument defaults are assignments, we can also use function calls for defaults:</p><div><pre><code> add(a, b = unit(a, px))\r\n   a + b\r\n</code></pre></div><h2 id=\"named-parameters\">Named Parameters</h2><p>Functions accept named parameters. This frees you from remembering the order of parameters, or simply improves the readability of your code.</p><p>For example:</p><div><pre><code>subtract(a, b)\r\n  a - b\r\n\r\nsubtract(b: 10, a: 25)\r\n</code></pre></div><h2 id=\"function-bodies\">Function Bodies</h2><p>We can take our simple <code class=\"highlighter-rouge\">add()</code> function further. Let’s casting all units passed as <code class=\"highlighter-rouge\">px</code> via the <code class=\"highlighter-rouge\">unit()</code> built-in. It reassigns each argument, and provides a unit-type string (or identifier), which ignores unit conversion.</p><div><pre><code> add(a, b = a)\r\n   a = unit(a, px)\r\n   b = unit(b, px)\r\n   a + b\r\n\r\n add(15%, 10deg)\r\n // =&gt; 25\r\n</code></pre></div><h2 id=\"multiple-return-values\">Multiple Return Values</h2><p>Stylus functions can return several values—just as you can assign several values to a variable.</p><p>For example, the following is a valid assignment:</p><div><pre><code>   sizes = 15px 10px\r\n\r\n   sizes[0]\r\n   // =&gt; 15px\r\n</code></pre></div><p>Similarly, we may return several values:</p><div><pre><code>   sizes()\r\n     15px 10px\r\n\r\n   sizes()[0]\r\n   // =&gt; 15px\r\n</code></pre></div><p>One slight exception is when return values are identifiers. For example, the following looks like a property assignment to Stylus (since no operators are present):</p><div><pre><code> swap(a, b)\r\n   b a\r\n</code></pre></div><p>To disambiguate, we can either wrap with parentheses, or use the <code class=\"highlighter-rouge\">return</code> keyword:</p><div><pre><code>  swap(a, b)\r\n    (b a)\r\n\r\n  swap(a, b)\r\n    return b a\r\n</code></pre></div><h2 id=\"conditionals\">Conditionals</h2><p>Let’s say we want to create a function named <code class=\"highlighter-rouge\">stringish()</code> to determine whether the argument can be transformed to a string. We check if <code class=\"highlighter-rouge\">val</code> is a string, or an ident (which is string-like). Because undefined identifiers yield themselves as the value, we may compare them to themselves as shown below (where <code class=\"highlighter-rouge\">yes</code> and <code class=\"highlighter-rouge\">no</code> are used in place of <code class=\"highlighter-rouge\">true</code> and <code class=\"highlighter-rouge\">false</code>):</p><div><pre><code> stringish(val)\r\n   if val is a 'string' or val is a 'ident'\r\n     yes\r\n   else\r\n     no\r\n</code></pre></div><p>Usage:</p><div><pre><code> stringish('yay') == yes\r\n // =&gt; true\r\n\r\n stringish(yay) == yes\r\n // =&gt; true\r\n\r\n stringish(0) == no\r\n // =&gt; true\r\n</code></pre></div><p><strong>note</strong>: <code class=\"highlighter-rouge\">yes</code> and <code class=\"highlighter-rouge\">no</code> are not boolean literals. They are simply undefined identifiers in this case.</p><p>Another example:</p><div><pre><code>compare(a, b)\r\n  if a &gt; b\r\n    higher\r\n  else if a &lt; b\r\n    lower\r\n  else\r\n    equal\r\n</code></pre></div><p>Usage:</p><div><pre><code>compare(5, 2)\r\n// =&gt; higher\r\n\r\ncompare(1, 5)\r\n// =&gt; lower\r\n\r\ncompare(10, 10)\r\n// =&gt; equal\r\n</code></pre></div><h2 id=\"aliasing\">Aliasing</h2><p>To alias a function, simply assign a function’s name to a new identifier. For example, our <code class=\"highlighter-rouge\">add()</code> function could be aliased as <code class=\"highlighter-rouge\">plus()</code>, like so:</p><div><pre><code>  plus = add\r\n\r\n  plus(1, 2)\r\n  // =&gt; 3\r\n</code></pre></div><h2 id=\"variable-functions\">Variable Functions</h2><p>In the same way that we can “alias” a function, we can pass a function as well. Here, our <code class=\"highlighter-rouge\">invoke()</code> function accepts a function, so we can pass it <code class=\"highlighter-rouge\">add()</code> or <code class=\"highlighter-rouge\">sub()</code>.</p><div><pre><code>add(a, b)\r\n  a + b\r\n\r\nsub(a, b)\r\n  a - b\r\n\r\ninvoke(a, b, fn)\r\n  fn(a, b)\r\n\r\nbody\r\n  padding invoke(5, 10, add)\r\n  padding invoke(5, 10, sub)\r\n</code></pre></div><p>Yielding:</p><div><pre><code>body {\r\n  padding: 15;\r\n  padding: -5;\r\n}\r\n</code></pre></div><h2 id=\"anonymous-functions\">Anonymous functions</h2><p>You can use anonymous functions where needed using <code class=\"highlighter-rouge\">@(){}</code> syntax. Here is how you could use it to create a custom <code class=\"highlighter-rouge\">sort()</code> function:</p><div><pre><code>sort(list, fn = null)\r\n  // default sort function\r\n  if fn == null\r\n    fn = @(a, b) {\r\n      a &gt; b\r\n    }\r\n\r\n  // bubble sort\r\n  for $i in 1..length(list) - 1\r\n    for $j in 0..$i - 1\r\n      if fn(list[$j], list[$i])\r\n        $temp = list[$i]\r\n        list[$i] = list[$j]\r\n        list[$j] = $temp\r\n  return list\r\n\r\n  sort('e' 'c' 'f' 'a' 'b' 'd')\r\n  // =&gt; 'a' 'b' 'c' 'd' 'e' 'f'\r\n\r\n  sort(5 3 6 1 2 4, @(a, b){\r\n    a &lt; b\r\n  })\r\n  // =&gt; 6 5 4 3 2 1\r\n</code></pre></div><h2 id=\"arguments\">arguments</h2><p>The <code class=\"highlighter-rouge\">arguments</code> local is available to all function bodies, and contains all the arguments passed.</p><p>For example:</p><div><pre><code> sum()\r\n   n = 0\r\n   for num in arguments\r\n     n = n + num\r\n\r\n sum(1,2,3,4,5)\r\n // =&gt; 15\r\n</code></pre></div><h2 id=\"hash-example\">Hash Example</h2><p>Below we define the <code class=\"highlighter-rouge\">get(hash, key)</code> function, which returns the value of <code class=\"highlighter-rouge\">key</code> (or <code class=\"highlighter-rouge\">null</code>). We iterate each <code class=\"highlighter-rouge\">pair</code> in <code class=\"highlighter-rouge\">hash</code>, returning the pair’s second node when the first (the <code class=\"highlighter-rouge\">key</code>) matches.</p><div><pre><code>  get(hash, key)\r\n    return pair[1] if pair[0] == key for pair in hash\r\n</code></pre></div><p>As demonstrated below, in-language functions—paired with robust Stylus expressions—can provide great flexibility:</p><div><pre><code>  hash = (one 1) (two 2) (three 3)\r\n\r\n  get(hash, two)\r\n  // =&gt; 2\r\n\r\n  get(hash, three)\r\n  // =&gt; 3\r\n\r\n  get(hash, something)\r\n  // =&gt; null\r\n</code></pre></div></div>\r\n","executable":"<div class=\"docs\"><h1>Executable</h1><p>Stylus ships with the <code class=\"highlighter-rouge\">stylus</code> executable for converting Stylus to CSS.</p><div><pre><code>  Usage: stylus [options] [command] [&lt; in [&gt; out]]\r\n                [file|dir ...]\r\n\r\n  Commands:\r\n\r\n    help [&lt;type&gt;:]&lt;prop&gt; Opens help info at MDC for &lt;prop&gt; in\r\n                         your default browser. Optionally\r\n                         searches other resources of &lt;type&gt;:\r\n                         safari opera w3c ms caniuse quirksmode\r\n\r\n  Options:\r\n\r\n    -i, --interactive       Start interactive REPL\r\n    -u, --use &lt;path&gt;        Utilize the Stylus plugin at &lt;path&gt;\r\n    -U, --inline            Utilize image inlining via data URI support\r\n    -w, --watch             Watch file(s) for changes and re-compile\r\n    -o, --out &lt;dir&gt;         Output to &lt;dir&gt; when passing files\r\n    -C, --css &lt;src&gt; [dest]  Convert CSS input to Stylus\r\n    -I, --include &lt;path&gt;    Add &lt;path&gt; to lookup paths\r\n    -c, --compress          Compress CSS output\r\n    -d, --compare           Display input along with output\r\n    -f, --firebug           Emits debug infos in the generated CSS that\r\n                            can be used by the FireStylus Firebug plugin\r\n    -l, --line-numbers      Emits comments in the generated CSS\r\n                            indicating the corresponding Stylus line\r\n    -m, --sourcemap         Generates a sourcemap in sourcemaps v3 format\r\n    --sourcemap-inline      Inlines sourcemap with full source text in base64 format\r\n    --sourcemap-root &lt;url&gt;  \"sourceRoot\" property of the generated sourcemap\r\n    --sourcemap-base &lt;path&gt; Base &lt;path&gt; from which sourcemap and all sources are relative\r\n    -P, --prefix [prefix]   Prefix all css classes\r\n    -p, --print             Print out the compiled CSS\r\n    --import &lt;file&gt;         Import stylus &lt;file&gt;\r\n    --include-css           Include regular CSS on @import\r\n    -D, --deps              Display dependencies of the compiled file\r\n    --disable-cache         Disable caching\r\n    --hoist-atrules         Move @import and @charset to the top\r\n    -r, --resolve-url       Resolve relative urls inside imports\r\n    --resolve-url-nocheck   Like --resolve-url but without file existence check\r\n    -V, --version           Display the version of Stylus\r\n    -h, --help              Display help information\r\n</code></pre></div><h2 id=\"stdio-compilation-example\">STDIO Compilation Example</h2><p><code class=\"highlighter-rouge\">stylus</code> reads from <em>stdin</em> and outputs to <em>stdout</em>, so for example:</p><div><pre><code>  $ stylus --compress &lt; some.styl &gt; some.css\r\n</code></pre></div><p>Try Stylus some in the terminal! Type below and press <code class=\"highlighter-rouge\">CTRL-D</code> for <code class=\"highlighter-rouge\">__EOF__</code>:</p><div><pre><code>  $ stylus\r\n  body\r\n    color red\r\n    font 14px Arial, sans-serif\r\n</code></pre></div><h2 id=\"compiling-files-example\">Compiling Files Example</h2><p><code class=\"highlighter-rouge\">stylus</code> also accepts files and directories. For example, a directory named <code class=\"highlighter-rouge\">css</code> will compile and output <code class=\"highlighter-rouge\">.css</code> files in the same directory.</p><div><pre><code>  $ stylus css\r\n</code></pre></div><p>The following will output to <code class=\"highlighter-rouge\">./public/stylesheets</code>:</p><div><pre><code>  $ stylus css --out public/stylesheets\r\n</code></pre></div><p>Or a few files:</p><div><pre><code>  $ stylus one.styl two.styl\r\n</code></pre></div><p>For development purposes, you can use the <code class=\"highlighter-rouge\">linenos</code> option to emit comments indicating the Stylus filename and line number in the generated CSS:</p><div><pre><code>  $ stylus --line-numbers &lt;path&gt;\r\n</code></pre></div><p>Or the <code class=\"highlighter-rouge\">firebug</code> option if you want to use the FireStylus extension for Firebug:</p><div><pre><code>  $ stylus --firebug &lt;path&gt;\r\n</code></pre></div><h2 id=\"prefixing-classes\">Prefixing classes</h2><p><code class=\"highlighter-rouge\">stylus</code> executable provides you a way to prefix all the generated styles using <code class=\"highlighter-rouge\">--prefix</code> option with given <code class=\"highlighter-rouge\">[prefix]</code>,</p><div><pre><code>$ stylus --prefix foo-\r\n</code></pre></div><p>used with this code:</p><div><pre><code>.bar\r\n  width: 10px\r\n</code></pre></div><p>would yield</p><div><pre><code>.foo-bar {\r\n  width: 10px;\r\n}\r\n</code></pre></div><p>All the classes would be prefixed: interpolated, extended etc.</p><h2 id=\"converting-css\">Converting CSS</h2><p>If you wish to convert CSS to the terse Stylus syntax, use the <code class=\"highlighter-rouge\">--css</code> flag.</p><p>Via stdio:</p><div><pre><code>  $ stylus --css &lt; test.css &gt; test.styl\r\n</code></pre></div><p>Output a <code class=\"highlighter-rouge\">.styl</code> file of the same basename:</p><div><pre><code>  $ stylus --css test.css\r\n</code></pre></div><p>Output to a specific destination:</p><div><pre><code>  $ stylus --css test.css /tmp/out.styl\r\n</code></pre></div><h2 id=\"css-property-help\">CSS Property Help</h2><p>On OS X, <code class=\"highlighter-rouge\">stylus help &lt;prop&gt;</code> will open your default browser and display help documentation for the given <code class=\"highlighter-rouge\">&lt;prop&gt;</code>.</p><div><pre><code>$ stylus help box-shadow\r\n</code></pre></div><h2 id=\"interactive-shell\">Interactive Shell</h2><p>The Stylus REPL (Read-Eval-Print-Loop) or “interactive shell” allows you to play around with Stylus expressions directly from your terminal.</p><p><strong>Note that this works only for expressions</strong>—not selectors, etc. To use simple add the <code class=\"highlighter-rouge\">-i</code>, or <code class=\"highlighter-rouge\">--interactive</code> flag:</p><div><pre><code> $ stylus -i\r\n &gt; color = white\r\n =&gt; #fff\r\n &gt; color - rgb(200,50,0)\r\n =&gt; #37cdff\r\n &gt; color\r\n =&gt; #fff\r\n &gt; color -= rgb(200,50,0)\r\n =&gt; #37cdff\r\n &gt; color\r\n =&gt; #37cdff\r\n &gt; rgba(color, 0.5)\r\n =&gt; rgba(55,205,255,0.5)\r\n</code></pre></div><h2 id=\"resolving-relative-urls-inside-imports\">Resolving relative urls inside imports</h2><p>By default Stylus don’t resolve the urls in imported <code class=\"highlighter-rouge\">.styl</code> files, so if you’d happen to have a <code class=\"highlighter-rouge\">foo.styl</code> with <code class=\"highlighter-rouge\">@import \"bar/bar.styl\"</code> which would have <code class=\"highlighter-rouge\">url(\"baz.png\")</code>, it would be <code class=\"highlighter-rouge\">url(\"baz.png\")</code> too in a resulting CSS.</p><p>But you can alter this behavior by using <code class=\"highlighter-rouge\">--resolve-url</code> (or just <code class=\"highlighter-rouge\">-r</code>) option to get <code class=\"highlighter-rouge\">url(\"bar/baz.png\")</code> in your resulting CSS.</p><h2 id=\"list-dependencies\">List dependencies</h2><p>You can use <code class=\"highlighter-rouge\">--deps</code> (or just <code class=\"highlighter-rouge\">-D</code>) flag to get a list of dependencies of the compiled file.</p><p>For example, suppose we have <code class=\"highlighter-rouge\">test.styl</code>:</p><div><pre><code>@import 'foo'\r\n@import 'bar'\r\n</code></pre></div><p>And inside <code class=\"highlighter-rouge\">foo.styl</code>:</p><div><pre><code>@import 'baz'\r\n</code></pre></div><p>Running:</p><div><pre><code>$ stylus --deps test.styl\r\n</code></pre></div><p>Will give us list of the imports paths:</p><div><pre><code>foo.styl\r\nbaz.styl\r\nbar.styl\r\n</code></pre></div><p><strong>Note that currently this does not works for dynamically generated paths</strong>.</p><h2 id=\"utilizing-plugins\">Utilizing Plugins</h2><p>For this example we’ll use the nib Stylus plugin to illustrate its CLI usage.</p><p>Suppose we have the following Stylus, which imports nib to use its <code class=\"highlighter-rouge\">linear-gradient()</code> function.</p><div><pre><code> @import 'nib'\r\n\r\n body\r\n   background: linear-gradient(20px top, white, black)\r\n</code></pre></div><p>Our first attempt to render using <code class=\"highlighter-rouge\">stylus(1)</code> via stdio might look like this:</p><div><pre><code> $ stylus &lt; test.styl\r\n</code></pre></div><p>Which would yield the following error (because Stylus doesn’t know where to find nib).</p><div><pre><code>   Error: stdin:3\r\n      1|\r\n      2|\r\n    &gt; 3| @import 'nib'\r\n      4|\r\n      5| body\r\n      6|   background: linear-gradient(20px top, white, black)\r\n</code></pre></div><p>For plugins that simply supply Stylus APIs, we could add the path to the Stylus lookup paths. We do so by using the <code class=\"highlighter-rouge\">--include</code> or <code class=\"highlighter-rouge\">-I</code> flag:</p><div><pre><code> $ stylus &lt; test.styl --include ../nib/lib\r\n</code></pre></div><p>Now yielding the output below. (As you might notice, calls to <code class=\"highlighter-rouge\">gradient-data-uri()</code> and <code class=\"highlighter-rouge\">create-gradient-image()</code> output as literals. This is because exposing the library path isn’t enough when a plugin provides a JavaScript API. However, if we only wanted to use pure-Stylus nib functions, we’d be fine.)</p><div><pre><code>  body {\r\n    background: url(gradient-data-uri(create-gradient-image(20px, top)));\r\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000));\r\n    background: -webkit-linear-gradient(top, #fff 0%, #000 100%);\r\n    background: -moz-linear-gradient(top, #fff 0%, #000 100%);\r\n    background: linear-gradient(top, #fff 0%, #000 100%);\r\n  }\r\n</code></pre></div><p>So, what we need to do is use the <code class=\"highlighter-rouge\">--use</code>, or <code class=\"highlighter-rouge\">-u</code> flag. It expects a path to a node module (with or without the <code class=\"highlighter-rouge\">.js</code> extension). This <code class=\"highlighter-rouge\">require()</code>s the module, expecting a function to be exported as <code class=\"highlighter-rouge\">module.exports</code>, which then calls <code class=\"highlighter-rouge\">style.use(fn())</code> to expose the plugin (defining its js functions, etc.).</p><div><pre><code>$ stylus &lt; test.styl --use ../nib/lib/nib\r\n</code></pre></div><p>Yielding the expected result:</p><div><pre><code>body {\r\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAYAAABMDlehAAAABmJLR0QA/wD/AP+gvaeTAAAAI0lEQVQImWP4+fPnf6bPnz8zMH358oUBwkIjKJBgYGNj+w8Aphk4blt0EcMAAAAASUVORK5CYII=\");\r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000));\r\n  background: -webkit-linear-gradient(top, #fff 0%, #000 100%);\r\n  background: -moz-linear-gradient(top, #fff 0%, #000 100%);\r\n  background: linear-gradient(top, #fff 0%, #000 100%);\r\n}\r\n</code></pre></div><p>If you need to pass arguments to the plugin, use the <code class=\"highlighter-rouge\">--with</code> option. <code class=\"highlighter-rouge\">--with</code> evaluates any valid javascript expression and passes its value to the plugin. For example:</p><div><pre><code>$ stylus &lt; test.styl --use ../node_modules/autoprefixer-stylus --with \"{ browsers: ['ie 7', 'ie 8'] }\"\r\n</code></pre></div></div>\r\n","js":"<div class=\"docs\"><h1>JavaScript API</h1><p>Simply <code class=\"highlighter-rouge\">require</code> the module, and call <code class=\"highlighter-rouge\">render()</code> with the given string of Stylus code, and (optional) <code class=\"highlighter-rouge\">options</code> object.</p><p>Frameworks utilizing Stylus should pass the <code class=\"highlighter-rouge\">filename</code> option to provide better error reporting.</p><div><pre><code>var stylus = require('stylus');\r\n\r\nstylus.render(str, { filename: 'nesting.css' }, function(err, css){\r\n  if (err) throw err;\r\n  console.log(css);\r\n});\r\n</code></pre></div><p>We can also do the same thing in a more progressive manner:</p><div><pre><code>var stylus = require('stylus');\r\n\r\nstylus(str)\r\n  .set('filename', 'nesting.css')\r\n  .render(function(err, css){\r\n    // logic\r\n  });\r\n</code></pre></div><h2 id=\"setsetting-value\">.set(setting, value)</h2><p>Apply a setting such as a <code class=\"highlighter-rouge\">filename</code>, or import <code class=\"highlighter-rouge\">paths</code>:</p><div><pre><code> .set('filename', __dirname + '/test.styl')\r\n .set('paths', [__dirname, __dirname + '/mixins'])\r\n</code></pre></div><h2 id=\"includepath\">.include(path)</h2><p>A progressive alternative to <code class=\"highlighter-rouge\">.set('paths',...)</code> is <code class=\"highlighter-rouge\">.include()</code>. This is ideal when exposing external Stylus libraries which expose a path.</p><div><pre><code>stylus(str)\r\n  .include(require('nib').path)\r\n  .include(process.env.HOME + '/mixins')\r\n  .render(...)\r\n</code></pre></div><h2 id=\"importpath\">.import(path)</h2><p>Defer importing of the given <code class=\"highlighter-rouge\">path</code> until evaluation is performed. The example below is essentially the same as doing <code class=\"highlighter-rouge\">@import 'mixins/vendor'</code> within your Stylus sheet.</p><div><pre><code>  var stylus = require('../')\r\n    , str = require('fs').readFileSync(__dirname + '/test.styl', 'utf8');\r\n\r\n  stylus(str)\r\n    .set('filename', __dirname + '/test.styl')\r\n    .import('mixins/vendor')\r\n    .render(function(err, css){\r\n    if (err) throw err;\r\n    console.log(css);\r\n  });\r\n</code></pre></div><h2 id=\"definename-node\">.define(name, node)</h2><p>By passing a <code class=\"highlighter-rouge\">Node</code>, we may define a global variable. This is useful when exposing conditional features within your library depending on the availability of another. For example the <strong>Nib</strong> extension library conditionally supports node-canvas, providing image generation.</p><p>However, this is not always available, so Nib may define:</p><div><pre><code> .define('has-canvas', stylus.nodes.false);\r\n .define('some-setting', new stylus.nodes.String('some value'));\r\n</code></pre></div><p>Stylus also casts JavaScript values to their Stylus equivalents when possible. Here are a few examples:</p><div><pre><code> .define('string', 'some string')\r\n .define('number', 15.5)\r\n .define('some-bool', true)\r\n .define('list', [1,2,3])\r\n .define('list', [1,2,[3,4,[5,6]]])\r\n .define('list', { foo: 'bar', bar: 'baz' })\r\n .define('families', ['Helvetica Neue', 'Helvetica', 'sans-serif'])\r\n</code></pre></div><p>These same rules apply to return values in js functions as well:</p><div><pre><code> .define('get-list', function(){\r\n   return ['foo', 'bar', 'baz'];\r\n })\r\n</code></pre></div><h2 id=\"definename-fn\">.define(name, fn)</h2><p>This method allows you to provide a JavaScript-defined function to Stylus. Think of these as you would JavaScript-to-C++ bindings. When there’s something you cannot do in Stylus, define it in JavaScript!</p><p>In this example, we define four functions: <code class=\"highlighter-rouge\">add()</code>, <code class=\"highlighter-rouge\">sub()</code>, <code class=\"highlighter-rouge\">image-width()</code>, and <code class=\"highlighter-rouge\">image-height()</code>. These functions must return a <code class=\"highlighter-rouge\">Node</code>, this constructor and the other nodes are available via <code class=\"highlighter-rouge\">stylus.nodes</code>.</p><div><pre><code>  var stylus = require('../')\r\n    , nodes = stylus.nodes\r\n    , utils = stylus.utils\r\n    , fs = require('fs');\r\n\r\n  function add(a, b) {\r\n    return a.operate('+', b);\r\n  }\r\n\r\n  function sub(a, b) {\r\n    return a.operate('-', b);\r\n  }\r\n\r\n  function imageDimensions(img) {\r\n    // assert that the node (img) is a String node, passing\r\n    // the param name for error reporting\r\n    utils.assertType(img, 'string', 'img');\r\n    var path = img.val;\r\n\r\n    // Grab bytes necessary to retrieve dimensions.\r\n    // if this was real you would do this per format,\r\n    // instead of reading the entire image :)\r\n    var data = fs.readFileSync(__dirname + '/' + path);\r\n\r\n    // GIF\r\n    // of course you would support.. more :)\r\n    if ('GIF' == data.slice(0, 3).toString()) {\r\n      var w = data.slice(6, 8)\r\n        , h = data.slice(8, 10);\r\n      w = w[1] &lt;&lt; 8 | w[0];\r\n      h = h[1] &lt;&lt; 8 | h[0];\r\n    }\r\n\r\n    return [w, h];\r\n  }\r\n\r\n  function imageWidth(img) {\r\n    return new nodes.Unit(imageDimensions(img)[0]);\r\n  }\r\n\r\n  function imageHeight(img) {\r\n    return new nodes.Unit(imageDimensions(img)[1]);\r\n  }\r\n\r\n  stylus(str)\r\n    .set('filename', 'js-functions.styl')\r\n    .define('add', add)\r\n    .define('sub', sub)\r\n    .define('image-width', imageWidth)\r\n    .define('image-height', imageHeight)\r\n    .render(function(err, css){\r\n      if (err) throw err;\r\n      console.log(css);\r\n    });\r\n</code></pre></div><p>For further reference (until documentation is complete) please see the following files:</p><ul><li><code class=\"highlighter-rouge\">lib/nodes/*</code></li><li><code class=\"highlighter-rouge\">lib/utils.js</code></li></ul><h2 id=\"usefn\">.use(fn)</h2><p>When called, the given <code class=\"highlighter-rouge\">fn</code> is invoked with the renderer, allowing all of the methods above to be used. This allows for plugins to easily expose themselves, defining functions, paths etc.</p><div><pre><code>var mylib = function(style){\r\n  style.define('add', add);\r\n  style.define('sub', sub);\r\n};\r\n\r\nstylus(str)\r\n  .use(mylib)\r\n  .render(...)\r\n</code></pre></div><p>When calling the <code class=\"highlighter-rouge\">render()</code> method with options, the <code class=\"highlighter-rouge\">use</code> option can be given a function or array of functions to be invoked with the renderer.</p><div><pre><code>stylus.render(str, { use: mylib }, function(err, css){\r\n  if (err) throw err;\r\n  console.log(css);\r\n});\r\n</code></pre></div><h2 id=\"deps\">.deps()</h2><p>Returns array of dependencies (import files):</p><div><pre><code>  stylus('@import \"a\"; @import \"b\"')\r\n    .deps();\r\n\r\n  // =&gt; ['a.styl', 'b.styl']\r\n</code></pre></div><h2 id=\"stylusresolveroptions\">stylus.resolver([options])</h2><p>Optional built-in function which may be used to resolve relative urls inside imported files:</p><div><pre><code>  stylus(str)\r\n    .define('url', stylus.resolver())\r\n    .render(function(err, css) {\r\n\r\n    });\r\n</code></pre></div><p>Options:</p><ul><li><code class=\"highlighter-rouge\">paths</code> additional resolution path(s)</li><li><code class=\"highlighter-rouge\">nocheck</code> don’t check file existence</li></ul></div>\r\n","operators":"<div class=\"docs\"><h1>Operators</h1><h2 id=\"operator-precedence\">Operator Precedence</h2><p>Below is the operator precedence table, highest to lowest:</p><div><pre><code> .\r\n []\r\n ! ~ + -\r\n is defined\r\n ** * / %\r\n + -\r\n ... ..\r\n &lt;= &gt;= &lt; &gt;\r\n in\r\n == is != is not isnt\r\n is a\r\n &amp;&amp; and || or\r\n ?:\r\n = := ?= += -= *= /= %=\r\n not\r\n if unless\r\n</code></pre></div><h2 id=\"unary-operators\">Unary Operators</h2><p>The following unary operators are available, <code class=\"highlighter-rouge\">!</code>, <code class=\"highlighter-rouge\">not</code>, <code class=\"highlighter-rouge\">-</code>, <code class=\"highlighter-rouge\">+</code>, and <code class=\"highlighter-rouge\">~</code>.</p><div><pre><code>!0\r\n// =&gt; true\r\n\r\n!!0\r\n// =&gt; false\r\n\r\n!1\r\n// =&gt; false\r\n\r\n!!5px\r\n// =&gt; true\r\n\r\n-5px\r\n// =&gt; -5px\r\n\r\n--5px\r\n// =&gt; 5px\r\n\r\nnot true\r\n// =&gt; false\r\n\r\nnot not true\r\n// =&gt; true\r\n</code></pre></div><p>The logical <code class=\"highlighter-rouge\">not</code> operator has low precedence, therefore the following example could be replaced with</p><div><pre><code>a = 0\r\nb = 1\r\n\r\n!a and !b\r\n// =&gt; false\r\n// parsed as: (!a) and (!b)\r\n</code></pre></div><p>With:</p><div><pre><code>not a or b\r\n// =&gt; false\r\n// parsed as: not (a or b)\r\n</code></pre></div><h2 id=\"binary-operators\">Binary Operators</h2><h3 id=\"subscript-\">Subscript []</h3><p>The subscript operator allows us to grab a value inside an expression via index (zero-based). Negative index values starts with the last element in the expression.</p><div><pre><code> list = 1 2 3\r\n list[0]\r\n // =&gt; 1\r\n\r\n list[-1]\r\n // =&gt; 3\r\n</code></pre></div><p>Parenthesized expressions may act as tuples (e.g. <code class=\"highlighter-rouge\">(15px 5px)</code>, <code class=\"highlighter-rouge\">(1 2 3)</code>).</p><p>Below is an example that uses tuples for error handling (and showcasing the versatility of this construct):</p><div><pre><code> add(a, b)\r\n   if a is a 'unit' and b is a 'unit'\r\n     a + b\r\n   else\r\n     (error 'a and b must be units!')\r\n\r\n body\r\n   padding add(1,'5')\r\n   // =&gt; padding: error \"a and b must be units\";\r\n\r\n   padding add(1,'5')[0]\r\n   // =&gt; padding: error;\r\n\r\n   padding add(1,'5')[0] == error\r\n   // =&gt; padding: true;\r\n\r\n   padding add(1,'5')[1]\r\n   // =&gt; padding: \"a and b must be units\";\r\n</code></pre></div><p>Here’s a more complex example. Now we’re invoking the built-in <code class=\"highlighter-rouge\">error()</code> function with the return error message, whenever the ident (the first value) equals <code class=\"highlighter-rouge\">error</code>.</p><div><pre><code> if (val = add(1,'5'))[0] == error\r\n   error(val[1])\r\n</code></pre></div><h2 id=\"range--\">Range .. …</h2><p>Both the inclusive (<code class=\"highlighter-rouge\">..</code>) and exclusive (<code class=\"highlighter-rouge\">...</code>) range operators are provided, expanding to expressions:</p><div><pre><code> 1..5\r\n // =&gt; 1 2 3 4 5\r\n\r\n 1...5\r\n // =&gt; 1 2 3 4\r\n\r\n 5..1\r\n // =&gt; 5 4 3 2 1\r\n</code></pre></div><h3 id=\"additive---\">Additive: + -</h3><p>Multiplicative and additive binary operators work as expected. Type conversion is applied within unit type classes, or default to the literal value. For example <code class=\"highlighter-rouge\">5s - 2px</code> results in <code class=\"highlighter-rouge\">3s</code>.</p><div><pre><code>15px - 5px\r\n// =&gt; 10px\r\n\r\n5 - 2\r\n// =&gt; 3\r\n\r\n5in - 50mm\r\n// =&gt; 3.031in\r\n\r\n5s - 1000ms\r\n// =&gt; 4s\r\n\r\n20mm + 4in\r\n// =&gt; 121.6mm\r\n\r\n\"foo \" + \"bar\"\r\n// =&gt; \"foo bar\"\r\n\r\n\"num \" + 15\r\n// =&gt; \"num 15\"\r\n</code></pre></div><h3 id=\"multiplicative---\">Multiplicative: / * %</h3><div><pre><code>2000ms + (1s * 2)\r\n// =&gt; 4000ms\r\n\r\n5s / 2\r\n// =&gt; 2.5s\r\n\r\n4 % 2\r\n// =&gt; 0\r\n</code></pre></div><p>When using <code class=\"highlighter-rouge\">/</code> within a property value, you <strong>must</strong> wrap with parens. Otherwise the <code class=\"highlighter-rouge\">/</code> is taken literally (to support CSS <code class=\"highlighter-rouge\">line-height</code>):</p><div><pre><code>font: 14px/1.5;\r\n</code></pre></div><p>But the following is evaluated as <code class=\"highlighter-rouge\">14px</code> ÷ <code class=\"highlighter-rouge\">1.5</code>:</p><div><pre><code>font: (14px/1.5);\r\n</code></pre></div><p>This is <em>only</em> required for the <code class=\"highlighter-rouge\">/</code> operator.</p><h3 id=\"exponent-\">Exponent: **</h3><p>The Exponent operator:</p><div><pre><code>2 ** 8\r\n// =&gt; 256\r\n</code></pre></div><h3 id=\"equality--relational------\">Equality &amp; Relational: == != &gt;= &lt;= &gt; &lt;</h3><p>Equality operators can be used to equate units, colors, strings, and even identifiers. This is a powerful concept, as even arbitrary identifiers (such as as <code class=\"highlighter-rouge\">wahoo</code>) can be utilized as atoms. A function could return <code class=\"highlighter-rouge\">yes</code> or <code class=\"highlighter-rouge\">no</code> instead of <code class=\"highlighter-rouge\">true</code> or <code class=\"highlighter-rouge\">false</code> (although not advised).</p><div><pre><code>5 == 5\r\n// =&gt; true\r\n\r\n10 &gt; 5\r\n// =&gt; true\r\n\r\n#fff == #fff\r\n// =&gt; true\r\n\r\ntrue == false\r\n// =&gt; false\r\n\r\nwahoo == yay\r\n// =&gt; false\r\n\r\nwahoo == wahoo\r\n// =&gt; true\r\n\r\n\"test\" == \"test\"\r\n// =&gt; true\r\n\r\ntrue is true\r\n// =&gt; true\r\n\r\n'hey' is not 'bye'\r\n// =&gt; true\r\n\r\n'hey' isnt 'bye'\r\n// =&gt; true\r\n\r\n(foo bar) == (foo bar)\r\n// =&gt; true\r\n\r\n(1 2 3) == (1 2 3)\r\n// =&gt; true\r\n\r\n(1 2 3) == (1 1 3)\r\n// =&gt; false\r\n</code></pre></div><p>Only exact values match. For example, <code class=\"highlighter-rouge\">0 == false</code> and <code class=\"highlighter-rouge\">null == false</code> are both <code class=\"highlighter-rouge\">false</code>.</p><p>Aliases:</p><div><pre><code>==    is\r\n!=    is not\r\n!=    isnt\r\n</code></pre></div><h2 id=\"truthfulness\">Truthfulness</h2><p>Nearly everything within Stylus resolves to <code class=\"highlighter-rouge\">true</code>, including units with a suffix. Even <code class=\"highlighter-rouge\">0%</code>, <code class=\"highlighter-rouge\">0px</code>, etc. will resolve to <code class=\"highlighter-rouge\">true</code> (because it’s common in Stylus for mixins or functions to accept units as valid).</p><p>However, <code class=\"highlighter-rouge\">0</code> itself is <code class=\"highlighter-rouge\">false</code> in terms of arithmetic.</p><p>Expressions (or “lists”) with a length greater than 1 are considered truthy.</p><p><code class=\"highlighter-rouge\">true</code> examples:</p><div><pre><code>  0%\r\n  0px\r\n  1px\r\n  -1\r\n  -1px\r\n  hey\r\n  'hey'\r\n  (0 0 0)\r\n  ('' '')\r\n</code></pre></div><p><code class=\"highlighter-rouge\">false</code> examples:</p><div><pre><code> 0\r\n null\r\n false\r\n ''\r\n</code></pre></div><h3 id=\"logical-operators---and-or\">Logical Operators: &amp;&amp; || and or</h3><p>Logical operators <code class=\"highlighter-rouge\">&amp;&amp;</code> and <code class=\"highlighter-rouge\">||</code> are aliased <code class=\"highlighter-rouge\">and</code> / <code class=\"highlighter-rouge\">or</code> which apply the same precedence.</p><div><pre><code>5 &amp;&amp; 3\r\n// =&gt; 3\r\n\r\n0 || 5\r\n// =&gt; 5\r\n\r\n0 &amp;&amp; 5\r\n// =&gt; 0\r\n\r\n#fff is a 'rgba' and 15 is a 'unit'\r\n// =&gt; true\r\n</code></pre></div><h3 id=\"existence-operator-in\">Existence Operator: in</h3><p>Checks for the existence of the <em>left-hand</em> operand within the <em>right-hand</em> expression.</p><p>Simple examples:</p><div><pre><code>  nums = 1 2 3\r\n  1 in nums\r\n  // =&gt; true\r\n\r\n  5 in nums\r\n  // =&gt; false\r\n</code></pre></div><p>Some undefined identifiers:</p><div><pre><code>  words = foo bar baz\r\n  bar in words\r\n  // =&gt; true\r\n\r\n  HEY in words\r\n  // =&gt; false\r\n</code></pre></div><p>Works with tuples too:</p><div><pre><code>  vals = (error 'one') (error 'two')\r\n  error in vals\r\n  // =&gt; false\r\n\r\n  (error 'one') in vals\r\n  // =&gt; true\r\n\r\n  (error 'two') in vals\r\n  // =&gt; true\r\n\r\n  (error 'something') in vals\r\n  // =&gt; false\r\n</code></pre></div><p>Example usage in mixin:</p><div><pre><code>  pad(types = padding, n = 5px)\r\n    if padding in types\r\n      padding n\r\n    if margin in types\r\n      margin n\r\n\r\n  body\r\n    pad()\r\n\r\n  body\r\n    pad(margin)\r\n\r\n  body\r\n    pad(padding margin, 10px)\r\n</code></pre></div><p>Yielding:</p><div><pre><code>  body {\r\n    padding: 5px;\r\n  }\r\n  body {\r\n    margin: 5px;\r\n  }\r\n  body {\r\n    padding: 10px;\r\n    margin: 10px;\r\n  }\r\n</code></pre></div><h3 id=\"conditional-assignment--\">Conditional Assignment: ?= :=</h3><p>The conditional assignment operator <code class=\"highlighter-rouge\">?=</code> (aliased as <code class=\"highlighter-rouge\">:=</code>) lets us define variables without clobbering old values (if present). This operator expands to an <code class=\"highlighter-rouge\">is defined</code> binary operation within a ternary.</p><p>For example, the following are equivalent:</p><div><pre><code>color := white\r\ncolor ?= white\r\ncolor = color is defined ? color : white\r\n</code></pre></div><p>When using plain <code class=\"highlighter-rouge\">=</code>, we simply reassign:</p><div><pre><code>color = white\r\ncolor = black\r\n\r\ncolor\r\n// =&gt; black\r\n</code></pre></div><p>But when using <code class=\"highlighter-rouge\">?=</code>, our second attempt fails (since the variable is already defined):</p><div><pre><code>color = white\r\ncolor ?= black\r\n\r\ncolor\r\n// =&gt; white\r\n</code></pre></div><h3 id=\"instance-check-is-a\">Instance Check: is a</h3><p>Stylus provides a binary operator named <code class=\"highlighter-rouge\">is a</code> used to type check.</p><div><pre><code>15 is a 'unit'\r\n// =&gt; true\r\n\r\n#fff is a 'rgba'\r\n// =&gt; true\r\n\r\n15 is a 'rgba'\r\n// =&gt; false\r\n</code></pre></div><p>Alternatively, we could use the <code class=\"highlighter-rouge\">type()</code> BIF:</p><div><pre><code>type(#fff) == 'rgba'\r\n// =&gt; true\r\n</code></pre></div><p><strong>Note:</strong> <code class=\"highlighter-rouge\">color</code> is the only special-case, evaluating to <code class=\"highlighter-rouge\">true</code> when the left-hand operand is an <code class=\"highlighter-rouge\">RGBA</code> or <code class=\"highlighter-rouge\">HSLA</code> node.</p><h3 id=\"variable-definition-is-defined\">Variable Definition: is defined</h3><p>This pseudo binary operator does not accept a right-hand operator, and does <em>not</em> evaluate the left. This allows us to check if a variable has a value assigned to it.</p><div><pre><code>foo is defined\r\n// =&gt; false\r\n\r\nfoo = 15px\r\nfoo is defined\r\n// =&gt; true\r\n\r\n#fff is defined\r\n// =&gt; 'invalid \"is defined\" check on non-variable #fff'\r\n</code></pre></div><p>Alternatively, one can use the <code class=\"highlighter-rouge\">lookup(name)</code> built-in function to do this—or to perform dynamic lookups:</p><div><pre><code>name = 'blue'\r\nlookup('light-' + name)\r\n// =&gt; null\r\n\r\nlight-blue = #80e2e9\r\nlookup('light-' + name)\r\n// =&gt; #80e2e9\r\n</code></pre></div><p>This operator is essential, as an undefined identifier is still a truthy value. For example:</p><div><pre><code>body\r\n  if ohnoes\r\n    padding 5px\r\n</code></pre></div><p><em>Will</em> yield the following CSS when undefined:</p><div><pre><code>body {\r\n  padding: 5px;\r\n}\r\n</code></pre></div><p>However this will be safe:</p><div><pre><code>body\r\n  if ohnoes is defined\r\n    padding 5px\r\n</code></pre></div><h2 id=\"ternary\">Ternary</h2><p>The ternary operator works as we would expect in most languages. It’s the only operator with three operands (the <em>condition</em> expression, the <em>truth</em> expression, and the <em>false</em> expression).</p><div><pre><code>num = 15\r\nnum ? unit(num, 'px') : 20px\r\n// =&gt; 15px\r\n</code></pre></div><h2 id=\"casting\">Casting</h2><p>As an terse alternative to the <code class=\"highlighter-rouge\">unit()</code> built-in function, the syntax <code class=\"highlighter-rouge\">(expr) unit</code> may be used to force the suffix.</p><div><pre><code>body\r\n  n = 5\r\n  foo: (n)em\r\n  foo: (n)%\r\n  foo: (n + 5)%\r\n  foo: (n * 5)px\r\n  foo: unit(n + 5, '%')\r\n  foo: unit(5 + 180 / 2, deg)\r\n</code></pre></div><h2 id=\"color-operations\">Color Operations</h2><p>Operations on colors provide a terse, expressive way to alter components. For example, we can operate on each RGB:</p><div><pre><code>#0e0 + #0e0\r\n// =&gt; #0f0\r\n</code></pre></div><p>Another example is adjust the lightness value by adding or subtracting a percentage. To lighten a color, add; to darken, subtract.</p><div><pre><code>#888 + 50%\r\n// =&gt; #c3c3c3\r\n\r\n#888 - 50%\r\n// =&gt; #444\r\n</code></pre></div><p>Adjust the hue is also possible by adding or subtracting with degrees. For example, adding <code class=\"highlighter-rouge\">50deg</code> to this red value results in a yellow:</p><div><pre><code> #f00 + 50deg\r\n // =&gt; #ffd500\r\n</code></pre></div><p>Values clamp appropriately. For example, we can “spin” the hue 180 degrees, and if the current value is <code class=\"highlighter-rouge\">320deg</code>, it will resolve to <code class=\"highlighter-rouge\">140deg</code>.</p><p>We may also tweak several values at once (including the alpha) by using <code class=\"highlighter-rouge\">rgb()</code>, <code class=\"highlighter-rouge\">rgba()</code>, <code class=\"highlighter-rouge\">hsl()</code>, or <code class=\"highlighter-rouge\">hsla()</code>:</p><div><pre><code>  #f00 - rgba(100,0,0,0.5)\r\n  // =&gt; rgba(155,0,0,0.5)\r\n</code></pre></div><h2 id=\"sprintf\">Sprintf</h2><p>The string sprintf-like operator <code class=\"highlighter-rouge\">%</code> can be used to generate a literal value, internally passing arguments through the <code class=\"highlighter-rouge\">s()</code> built-in:</p><div><pre><code>   'X::Microsoft::Crap(%s)' % #fc0\r\n   // =&gt; X::Microsoft::Crap(#fc0)\r\n</code></pre></div><p>Multiple values should be parenthesized:</p><div><pre><code>  '-webkit-gradient(%s, %s, %s)' % (linear (0 0) (0 100%))\r\n  // =&gt; -webkit-gradient(linear, 0 0, 0 100%)\r\n</code></pre></div></div>\r\n","bifs":"<div class=\"docs\"><h1>Built-in Functions</h1><h2 id=\"redcolor-value\">red(color[, value])</h2><p>Return the red component of the given <code class=\"highlighter-rouge\">color</code>, or set the red component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code> red(#c00)\n// =&gt; 204\n\nred(#000, 255)\n// =&gt; #f00\n</code></pre></div><h2 id=\"greencolor-value\">green(color[, value])</h2><p>Return the green component of the given <code class=\"highlighter-rouge\">color</code>, or set the green component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code> green(#0c0)\n// =&gt; 204\n\ngreen(#000, 255)\n// =&gt; #0f0\n</code></pre></div><h2 id=\"bluecolor-value\">blue(color[, value])</h2><p>Return the blue component of the given <code class=\"highlighter-rouge\">color</code>, or set the blue component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code> blue(#00c)\n// =&gt; 204\n\nblue(#000, 255)\n// =&gt; #00f\n</code></pre></div><h2 id=\"alphacolor-value\">alpha(color[, value])</h2><p>Return the alpha component of the given <code class=\"highlighter-rouge\">color</code>, or set the alpha component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code>  alpha(#fff)\n // =&gt; 1\n\n alpha(rgba(0,0,0,0.3))\n // =&gt; 0.3\n\n alpha(#fff, 0.5)\n // =&gt; rgba(255,255,255,0.5)\n</code></pre></div><h2 id=\"darkcolor\">dark(color)</h2><p>Check if <code class=\"highlighter-rouge\">color</code> is dark:</p><div><pre><code>  dark(black)\n // =&gt; true\n\n dark(#005716)\n // =&gt; true\n\n dark(white)\n // =&gt; false\n</code></pre></div><h2 id=\"lightcolor\">light(color)</h2><p>Check if <code class=\"highlighter-rouge\">color</code> is light:</p><div><pre><code>light(black)\n// =&gt; false\n\nlight(white)\n// =&gt; true\n\nlight(#00FF40)\n// =&gt; true\n</code></pre></div><h2 id=\"huecolor-value\">hue(color[, value])</h2><p>Return the hue of the given <code class=\"highlighter-rouge\">color</code>, or set the hue component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code>hue(hsl(50deg, 100%, 80%))\n// =&gt; 50deg\n\nhue(#00c, 90deg)\n// =&gt; #6c0\n</code></pre></div><h2 id=\"saturationcolor-value\">saturation(color[, value])</h2><p>Return the saturation of the given <code class=\"highlighter-rouge\">color</code>, or set the saturation component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code>saturation(hsl(50deg, 100%, 80%))\n// =&gt; 100%\n\nsaturation(#00c, 50%)\n// =&gt; #339\n</code></pre></div><h2 id=\"lightnesscolor-value\">lightness(color[, value])</h2><p>Return the lightness of the given <code class=\"highlighter-rouge\">color</code>, or set the lightness component to the optional second <code class=\"highlighter-rouge\">value</code> argument.</p><div><pre><code>lightness(hsl(50deg, 100%, 80%))\n// =&gt; 80%\n\nlightness(#00c, 80%)\n// =&gt; #99f\n</code></pre></div><h2 id=\"pushexpr-args\">push(expr, args…)</h2><p>Push the given <code class=\"highlighter-rouge\">args</code> to <code class=\"highlighter-rouge\">expr</code>.</p><div><pre><code> nums = 1 2\npush(nums, 3, 4, 5)\n\nnums\n// =&gt; 1 2 3 4 5\n</code></pre></div><p>Aliased as <code class=\"highlighter-rouge\">append()</code></p><h2 id=\"popexpr\">pop(expr)</h2><p>Pop a value from <code class=\"highlighter-rouge\">expr</code>.</p><div><pre><code> nums = 4 5 3 2 1\nnum = pop(nums)\n\nnums\n// =&gt; 4 5 3 2\nnum\n// =&gt; 1\n</code></pre></div><h2 id=\"shiftexpr\">shift(expr)</h2><p>Shift an element from <code class=\"highlighter-rouge\">expr</code>.</p><div><pre><code> nums = 4 5 3 2 1\nnum = shift(nums)\n\nnums\n// =&gt; 5 3 2 1\nnum\n// =&gt; 4\n</code></pre></div><h2 id=\"unshiftexpr-args\">unshift(expr, args…)</h2><p>Unshift the given <code class=\"highlighter-rouge\">args</code> to <code class=\"highlighter-rouge\">expr</code>.</p><div><pre><code> nums = 4 5\nunshift(nums, 3, 2, 1)\n\nnums\n// =&gt; 1 2 3 4 5\n</code></pre></div><p>Aliased as <code class=\"highlighter-rouge\">prepend()</code></p><h2 id=\"indexlist-value\">index(list, value)</h2><p>Returns the index (zero-based) of a <code class=\"highlighter-rouge\">value</code> within a <code class=\"highlighter-rouge\">list</code>.</p><div><pre><code>list = 1 2 3\n\nindex(list, 2)\n// =&gt; 1\n\nindex(1px solid red, red)\n// =&gt; 2\n</code></pre></div><h2 id=\"keyspairs\">keys(pairs)</h2><p>Return keys in the given <code class=\"highlighter-rouge\">pairs</code>:</p><div><pre><code> pairs = (one 1) (two 2) (three 3)\nkeys(pairs)\n// =&gt; one two three\n</code></pre></div><h2 id=\"valuespairs\">values(pairs)</h2><p>Return values in the given <code class=\"highlighter-rouge\">pairs</code>:</p><div><pre><code> pairs = (one 1) (two 2) (three 3)\nvalues(pairs)\n// =&gt; 1 2 3\n</code></pre></div><h2 id=\"list-separatorlist\">list-separator(list)</h2><p>Return the separator of the given <code class=\"highlighter-rouge\">list</code>.</p><div><pre><code> list1 = a b c\nlist-separator(list1)\n// =&gt; ' '\n\nlist2 = a, b, c\nlist-separator(list2)\n// =&gt; ','\n</code></pre></div><h2 id=\"typeofnode\">typeof(node)</h2><p>Return type of <code class=\"highlighter-rouge\">node</code> as a string.</p><div><pre><code>  type(12)\n // =&gt; 'unit'\n\n typeof(12)\n // =&gt; 'unit'\n\n typeof(#fff)\n // =&gt; 'rgba'\n\n type-of(#fff)\n // =&gt; 'rgba'\n</code></pre></div><p>Aliased as <code class=\"highlighter-rouge\">type-of</code> and <code class=\"highlighter-rouge\">type</code>.</p><h2 id=\"unitunit-type\">unit(unit[, type])</h2><p>Return a string for the type of <code class=\"highlighter-rouge\">unit</code> or an empty string, or assign the given <code class=\"highlighter-rouge\">type</code> without unit conversion.</p><div><pre><code>unit(10)\n// =&gt; ''\n\nunit(15in)\n// =&gt; 'in'\n\nunit(15%, 'px')\n// =&gt; 15px\n\nunit(15%, px)\n// =&gt; 15px\n</code></pre></div><h2 id=\"percentagenum\">percentage(num)</h2><p>Convert a <code class=\"highlighter-rouge\">num</code> to a percentage.</p><div><pre><code>percentage(.5)\n// =&gt; 50%\n\npercentage(4 / 100)\n// =&gt; 4%\n</code></pre></div><h2 id=\"absunit\">abs(unit)</h2><div><pre><code>  abs(-5px)\n // =&gt; 5px\n\n abs(5px)\n // =&gt; 5px\n</code></pre></div><h2 id=\"ceilunit\">ceil(unit)</h2><div><pre><code>  ceil(5.5in)\n // =&gt; 6in\n</code></pre></div><h2 id=\"floorunit\">floor(unit)</h2><div><pre><code>  floor(5.6px)\n // =&gt; 5px\n</code></pre></div><h2 id=\"roundunit\">round(unit)</h2><div><pre><code>  round(5.5px)\n // =&gt; 6px\n\n round(5.4px)\n // =&gt; 5px\n</code></pre></div><p><strong>Note:</strong> All rounding functions can accept optional <code class=\"highlighter-rouge\">precision</code> argument — you can pass the number of digits you want to save after the period:</p><div><pre><code>  ceil(5.52px,1)\n // =&gt; 5.6px\n\n floor(5.57px,1)\n // =&gt; 5.5px\n\n round(5.52px,1)\n // =&gt; 5.5px\n</code></pre></div><h2 id=\"sinangle\">sin(angle)</h2><p>Returns the value of sine for the given <code class=\"highlighter-rouge\">angle</code>. If the angle is given as a degree unit, like <code class=\"highlighter-rouge\">45deg</code>, it is treated as a degree, otherwise it is treated as radians.</p><div><pre><code>sin(30deg)\n// =&gt; 0.5\n\nsin(3*PI/4)\n// =&gt; 0.707106781\n</code></pre></div><h2 id=\"cosangle\">cos(angle)</h2><p>Returns the value of cosine for the given <code class=\"highlighter-rouge\">angle</code>. If the angle is given as a degree unit, like <code class=\"highlighter-rouge\">45deg</code>, it is treated as a degree, otherwise it is treated as radians.</p><div><pre><code>cos(180deg)\n// =&gt; -1\n</code></pre></div><h2 id=\"tanangle\">tan(angle)</h2><p>Returns the value of tangent for the given <code class=\"highlighter-rouge\">angle</code>. If the angle is given as a degree unit, like <code class=\"highlighter-rouge\">45deg</code>, it is treated as a degree, otherwise it is treated as radians.</p><div><pre><code>tan(45deg)\n// =&gt; 1\n\ntan(90deg)\n// =&gt; Infinity\n</code></pre></div><h2 id=\"mina-b\">min(a, b)</h2><div><pre><code>  min(1, 5)\n // =&gt; 1\n</code></pre></div><h2 id=\"maxa-b\">max(a, b)</h2><div><pre><code>  max(1, 5)\n // =&gt; 5\n</code></pre></div><h2 id=\"evenunit\">even(unit)</h2><div><pre><code>  even(6px)\n // =&gt; true\n</code></pre></div><h2 id=\"oddunit\">odd(unit)</h2><div><pre><code>  odd(5mm)\n // =&gt; true\n</code></pre></div><h2 id=\"sumnums\">sum(nums)</h2><div><pre><code>  sum(1 2 3)\n // =&gt; 6\n</code></pre></div><h2 id=\"avgnums\">avg(nums)</h2><div><pre><code> avg(1 2 3)\n// =&gt; 2\n</code></pre></div><h2 id=\"rangestart-stop-step\">range(start, stop[, step])</h2><p>Returns a list of units from <code class=\"highlighter-rouge\">start</code> to <code class=\"highlighter-rouge\">stop</code> (included) by given <code class=\"highlighter-rouge\">step</code>. If <code class=\"highlighter-rouge\">step</code> argument is omitted, it defaults to 1. The <code class=\"highlighter-rouge\">step</code> must not be zero.</p><div><pre><code>range(1, 6)\n// equals to `1..6`\n// 1 2 3 4 5 6\n\nrange(1, 6, 2)\n// 1 3 5\n\nrange(-6, -1, 2)\n// -6 -4 -2\n\nrange(1px, 3px, 0.5px)\n// 1px 1.5px 2px 2.5px 3px\n</code></pre></div><p>It is most often used in <code class=\"highlighter-rouge\">for</code> loops:</p><div><pre><code>for i in range(10px, 50px, 10)\n .col-{i}\n   width: i\n</code></pre></div><p>Yields:</p><div><pre><code>.col-10 {\n width: 10px;\n}\n.col-20 {\n width: 20px;\n}\n.col-30 {\n width: 30px;\n}\n.col-40 {\n width: 40px;\n}\n.col-50 {\n width: 50px;\n}\n</code></pre></div><h2 id=\"base-convertnum-base-width\">base-convert(num, base, width)</h2><p>Returns a <code class=\"highlighter-rouge\">Literal</code> <code class=\"highlighter-rouge\">num</code> converted to the provided <code class=\"highlighter-rouge\">base</code>, padded to <code class=\"highlighter-rouge\">width</code> with zeroes (default width is 2)</p><div><pre><code>base-convert(1, 10, 3)\n// =&gt; 001\n\nbase-convert(14, 16, 1)\n// =&gt; e\n\nbase-convert(42, 2)\n// =&gt; 101010\n</code></pre></div><h2 id=\"matchpattern-string-flags\">match(pattern, string[, flags])</h2><p>Retrieves the matches when matching a <code class=\"highlighter-rouge\">val</code>(string) against a <code class=\"highlighter-rouge\">pattern</code>(regular expression).</p><div><pre><code>match('^(height|width)?([&lt;&gt;=]{1,})(.*)', 'height&gt;=1024px')\n// =&gt; 'height&gt;=1024px' 'height' '&gt;=' '1024px'\n\nmatch('^foo(?:bar)?', 'foo')\n// =&gt; 'foo'\n\nmatch('^foo(?:bar)?', 'foobar')\n// =&gt; 'foobar'\n\nmatch('^foo(?:bar)?', 'bar')\n// =&gt; null\n\nmatch('ain', 'The rain in SPAIN stays mainly in the plain')\n// =&gt; 'ain'\n\nmatch('ain', 'The rain in SPAIN stays mainly in the plain', g)\n// =&gt; 'ain' 'ain' 'ain'\n\nmatch('ain', 'The rain in SPAIN stays mainly in the plain', 'gi')\n// =&gt; 'ain' 'AIN' 'ain' 'ain'\n</code></pre></div><h2 id=\"replacepattern-replacement-val\">replace(pattern, replacement, val)</h2><p>Returns string with all matches of <code class=\"highlighter-rouge\">pattern</code> replaced by <code class=\"highlighter-rouge\">replacement</code> in given <code class=\"highlighter-rouge\">val</code></p><div><pre><code>replace(i, e, 'griin')\n// =&gt; 'green'\n\nreplace(i, e, griin)\n// =&gt; #008000\n</code></pre></div><h2 id=\"joindelim-vals\">join(delim, vals…)</h2><p>Join the given <code class=\"highlighter-rouge\">vals</code> with <code class=\"highlighter-rouge\">delim</code>.</p><div><pre><code>  join(' ', 1 2 3)\n // =&gt; \"1 2 3\"\n\n join(',', 1 2 3)\n // =&gt; \"1,2,3\"\n\n join(', ', foo bar baz)\n // =&gt; \"foo, bar, baz\"\n\n join(', ', foo, bar, baz)\n // =&gt; \"foo, bar, baz\"\n\n join(', ', 1 2, 3 4, 5 6)\n // =&gt; \"1 2, 3 4, 5 6\"\n</code></pre></div><h2 id=\"splitdelim-val\">split(delim, val)</h2><p>The <code class=\"highlighter-rouge\">split()</code>` method splits a string/ident into an array of strings by separating the string into substrings.</p><div><pre><code>split(_, bar1_bar2_bar3)\n// =&gt; bar1 bar2 bar3\n\nsplit(_, 'bar1_bar2_bar3')\n// =&gt; 'bar1' 'bar2' 'bar3'\n</code></pre></div><h2 id=\"substrval-start-length\">substr(val, start, length)</h2><p>The <code class=\"highlighter-rouge\">substr()</code> method returns the characters in a string beginning at the specified location through the specified number of characters.</p><div><pre><code>substr(ident, 1, 2)\n// =&gt; de\n\nsubstr('string', 1, 2)\n// =&gt; 'tr'\n\nval = dredd\nsubstr(substr(val, 1), 0, 3)\n// =&gt; #f00\n</code></pre></div><h2 id=\"sliceval-start-end\">slice(val, start[, end])</h2><p>The <code class=\"highlighter-rouge\">slice()</code> method extracts a section of a string/list and returns a new string/list.</p><p>slice(‘lorem’ ‘ipsum’ ‘dolor’, 1, 2) slice(‘lorem’ ‘ipsum’ ‘dolor’, 1, -1) // =&gt; ‘ipsum’</p><p>slice(‘lorem ipsum’, 1, 5) // =&gt; ‘orem’ slice(rredd, 1, -1) // =&gt; #f00</p><p>slice(1px solid black, 1) // =&gt; solid #000</p><h2 id=\"hslacolor--hsla\">hsla(color | h,s,l,a)</h2><p>Convert the given <code class=\"highlighter-rouge\">color</code> to an <code class=\"highlighter-rouge\">HSLA</code> node, or h,s,l,a component values.</p><div><pre><code> hsla(10deg, 50%, 30%, 0.5)\n// =&gt; HSLA\n\nhsla(#ffcc00)\n// =&gt; HSLA\n</code></pre></div><h2 id=\"hslcolor--hsl\">hsl(color | h,s,l)</h2><p>Convert the given <code class=\"highlighter-rouge\">color</code> to an <code class=\"highlighter-rouge\">HSLA</code> node, or h,s,l,a component values.</p><div><pre><code> hsl(10, 50, 30)\n// =&gt; HSLA\n\nhsl(#ffcc00)\n// =&gt; HSLA\n</code></pre></div><h2 id=\"rgbacolor--rgba\">rgba(color | r,g,b,a)</h2><p>Return <code class=\"highlighter-rouge\">RGBA</code> from the r,g,b,a channels or provide a <code class=\"highlighter-rouge\">color</code> to tweak the alpha.</p><div><pre><code>  rgba(255,0,0,0.5)\n // =&gt; rgba(255,0,0,0.5)\n\n rgba(255,0,0,1)\n // =&gt; #ff0000\n\n rgba(#ffcc00, 0.5)\n // rgba(255,204,0,0.5)\n</code></pre></div><p>Alternatively stylus supports the <code class=\"highlighter-rouge\">#rgba</code> and <code class=\"highlighter-rouge\">#rrggbbaa</code> notations as well:</p><div><pre><code>#fc08\n// =&gt; rgba(255,204,0,0.5)\n\n#ffcc00ee\n// =&gt; rgba(255,204,0,0.9)\n</code></pre></div><h2 id=\"rgbcolor--rgb\">rgb(color | r,g,b)</h2><p>Return a <code class=\"highlighter-rouge\">RGBA</code> from the r,g,b channels or cast to an <code class=\"highlighter-rouge\">RGBA</code> node.</p><div><pre><code>rgb(255,204,0)\n// =&gt; #ffcc00\n\nrgb(#fff)\n// =&gt; #fff\n</code></pre></div><h2 id=\"blendtop-bottom\">blend(top[, bottom])</h2><p>Blends the given <code class=\"highlighter-rouge\">top</code> color over the <code class=\"highlighter-rouge\">bottom</code> one using the normal blending. The <code class=\"highlighter-rouge\">bottom</code> argument is optional and is defaulted to <code class=\"highlighter-rouge\">#fff</code>.</p><div><pre><code>blend(rgba(#FFF, 0.5), #000)\n// =&gt; #808080\n\nblend(rgba(#FFDE00,.42), #19C261)\n// =&gt; #7ace38\n\nblend(rgba(lime, 0.5), rgba(red, 0.25))\n// =&gt; rgba(128,128,0,0.625)\n</code></pre></div><h2 id=\"lightencolor-amount\">lighten(color, amount)</h2><p>Lighten the given <code class=\"highlighter-rouge\">color</code> by <code class=\"highlighter-rouge\">amount</code>. This function is unit-sensitive, for example supporting percentages as shown below.</p><div><pre><code>lighten(#2c2c2c, 30)\n// =&gt; #787878\n\nlighten(#2c2c2c, 30%)\n// =&gt; #393939\n</code></pre></div><h2 id=\"darkencolor-amount\">darken(color, amount)</h2><p>Darken the given <code class=\"highlighter-rouge\">color</code> by <code class=\"highlighter-rouge\">amount</code>.This function is unit-sensitive, for example supporting percentages as shown below.</p><div><pre><code>darken(#D62828, 30)\n// =&gt; #551010\n\ndarken(#D62828, 30%)\n// =&gt; #961c1c\n</code></pre></div><h2 id=\"desaturatecolor-amount\">desaturate(color, amount)</h2><p>Desaturate the given <code class=\"highlighter-rouge\">color</code> by <code class=\"highlighter-rouge\">amount</code>.</p><div><pre><code>desaturate(#f00, 40%)\n// =&gt; #c33\n</code></pre></div><h2 id=\"saturatecolor-amount\">saturate(color, amount)</h2><p>Saturate the given <code class=\"highlighter-rouge\">color</code> by <code class=\"highlighter-rouge\">amount</code>.</p><div><pre><code>saturate(#c33, 40%)\n// =&gt; #f00\n</code></pre></div><h2 id=\"complementcolor\">complement(color)</h2><p>Gives the complementary color. Equals to spinning hue to 180deg.</p><div><pre><code>complement(#fd0cc7)\n// =&gt; #0cfd42\n</code></pre></div><h2 id=\"invertcolor\">invert(color)</h2><p>Inverts the color. The red, green, and blue values are inverted, while the opacity is left alone.</p><div><pre><code>invert(#d62828)\n// =&gt; #29d7d7\n</code></pre></div><h2 id=\"spincolor-amount\">spin(color, amount)</h2><p>Spins hue of the given <code class=\"highlighter-rouge\">color</code> by <code class=\"highlighter-rouge\">amount</code>.</p><div><pre><code> spin(#ff0000, 90deg)\n// =&gt; #80ff00\n</code></pre></div><h2 id=\"grayscalecolor\">grayscale(color)</h2><p>Gives the grayscale equivalent of the given color. Equals to desaturate by 100%.</p><div><pre><code>grayscale(#fd0cc7)\n// =&gt; #0cfd42\n</code></pre></div><h2 id=\"mixcolor1-color2-amount\">mix(color1, color2[, amount])</h2><p>Mix two colors by a given amount. The <code class=\"highlighter-rouge\">amount</code> is optional and is defaulted to <code class=\"highlighter-rouge\">50%</code>.</p><div><pre><code>mix(#000, #fff, 30%)\n// =&gt; #b2b2b2\n</code></pre></div><h2 id=\"tintcolor-amount\">tint(color, amount)</h2><p>Mix the given color with white.</p><div><pre><code>tint(#fd0cc7,66%)\n// =&gt; #feaceb\n</code></pre></div><h2 id=\"shadecolor-amount\">shade(color, amount)</h2><p>Mix the given color with black.</p><div><pre><code>shade(#fd0cc7,66%)\n// =&gt; #560443\n</code></pre></div><h2 id=\"luminositycolor\">luminosity(color)</h2><p>Returns the relative luminance of the given <code class=\"highlighter-rouge\">color</code>.</p><div><pre><code>luminosity(white)\n// =&gt; 1\n\nluminosity(#000)\n// =&gt; 0\n\nluminosity(red)\n// =&gt; 0.2126\n</code></pre></div><h2 id=\"contrasttop-bottom\">contrast(top[, bottom])</h2><p>Returns the contrast ratio object between <code class=\"highlighter-rouge\">top</code> and <code class=\"highlighter-rouge\">bottom</code> colors, based on script underlying “<span style=\"text-decoration:underline\">contrast ratio</span>” tool by Lea Verou.</p><p>The second argument is optional and is defaulted to <code class=\"highlighter-rouge\">#fff</code>.</p><p>The main key in the returned object is <code class=\"highlighter-rouge\">ratio</code>, it also have <code class=\"highlighter-rouge\">min</code> and <code class=\"highlighter-rouge\">max</code> values that are different from the <code class=\"highlighter-rouge\">ratio</code> only when the <code class=\"highlighter-rouge\">bottom</code> color is transparent. In that case the <code class=\"highlighter-rouge\">error</code> also contains an error margin.</p><div><pre><code>contrast(#000, #fff).ratio\n=&gt; 21\ncontrast(#000, rgba(#FFF, 0.5))\n=&gt; { \"ratio\": \"13.15;\", \"error\": \"-7.85\", \"min\": \"5.3\", \"max\": \"21\" }\n</code></pre></div><h2 id=\"transparentifytop-bottom-alpha\">transparentify(top[, bottom, alpha])</h2><p>Returns the transparent version of the given <code class=\"highlighter-rouge\">top</code> color, as if it was blend over the given <code class=\"highlighter-rouge\">bottom</code> color (or the closest to it, if it is possible).</p><p>The second argument is optional and is defaulted to <code class=\"highlighter-rouge\">#fff</code>.</p><p>The third argument is optional and overrides the autodetected alpha.</p><div><pre><code>transparentify(#808080)\n=&gt; rgba(0,0,0,0.5)\n\ntransparentify(#414141, #000)\n=&gt; rgba(255,255,255,0.25)\n\ntransparentify(#91974C, #F34949, 0.5)\n=&gt; rgba(47,229,79,0.5)\n</code></pre></div><h2 id=\"unquotestr--ident\">unquote(str | ident)</h2><p>Unquote the given <code class=\"highlighter-rouge\">str</code> and returned as a <code class=\"highlighter-rouge\">Literal</code> node.</p><div><pre><code>   unquote(\"sans-serif\")\n  // =&gt; sans-serif\n\n  unquote(sans-serif)\n  // =&gt; sans-serif\n\n  unquote('1px / 2px')\n  // =&gt; 1px / 2px\n</code></pre></div><h2 id=\"convertstr\">convert(str)</h2><p>Like <code class=\"highlighter-rouge\">unquote()</code> but tries to convert the given <code class=\"highlighter-rouge\">str</code> to a Stylus node.</p><div><pre><code>   unit = convert('40px')\n  typeof(unit)\n  // =&gt; 'unit'\n\n  color = convert('#fff')\n  typeof(color)\n  // =&gt; 'rgba'\n\n  foo = convert('foo')\n  typeof(foo)\n  // =&gt; 'ident'\n</code></pre></div><h2 id=\"sfmt-\">s(fmt, …)</h2><p>The <code class=\"highlighter-rouge\">s()</code> function is similar to <code class=\"highlighter-rouge\">unquote()</code>, in that it returns a <code class=\"highlighter-rouge\">Literal</code> node, however it accepts a format string much like C’s <code class=\"highlighter-rouge\">sprintf()</code>. Currently the only specifier is <code class=\"highlighter-rouge\">%s</code>.</p><div><pre><code>    s('bar()');\n   // =&gt; bar()\n\n   s('bar(%s)', 'baz');\n   // =&gt; bar(\"baz\")\n\n   s('bar(%s)', baz);\n   // =&gt; bar(baz)\n\n   s('bar(%s)', 15px);\n   // =&gt; bar(15px)\n\n   s('rgba(%s, %s, %s, 0.5)', 255, 100, 50);\n   // =&gt; rgba(255, 100, 50, 0.5)\n\n   s('bar(%Z)', 15px);\n   // =&gt; bar(%Z)\n\n   s('bar(%s, %s)', 15px);\n   // =&gt; bar(15px, null)\n</code></pre></div><p>Check out the <code class=\"highlighter-rouge\">%</code> string operator for equivalent behaviour.</p><h2 id=\"basenamepath-ext\">basename(path[, ext])</h2><p>Returns the basename of <code class=\"highlighter-rouge\">path</code>, (optionally) with <code class=\"highlighter-rouge\">ext</code> extension removed.</p><div><pre><code>basename('images/foo.png')\n// =&gt; \"foo.png\"\n\nbasename('images/foo.png', '.png')\n// =&gt; \"foo\"\n</code></pre></div><h2 id=\"dirnamepath\">dirname(path)</h2><p>Returns the dirname of <code class=\"highlighter-rouge\">path</code>.</p><div><pre><code>dirname('images/foo.png')\n// =&gt; \"images\"\n</code></pre></div><h2 id=\"extnamepath\">extname(path)</h2><p>Returns the filename extension of <code class=\"highlighter-rouge\">path</code> including the dot.</p><div><pre><code>extname('images/foo.png')\n// =&gt; \".png\"\n</code></pre></div><h2 id=\"pathjoin\">pathjoin(…)</h2><p>Peform a path join.</p><div><pre><code>pathjoin('images', 'foo.png')\n// =&gt; \"images/foo.png\"\n\npath = 'images/foo.png'\next = extname(path)\npathjoin(dirname(path), basename(path, ext) + _thumb + ext)\n// =&gt; 'images/foo_thumb.png'\n</code></pre></div><h2 id=\"called-from-property\"><code class=\"highlighter-rouge\">called-from</code> property</h2><p><code class=\"highlighter-rouge\">called-from</code> property contains the list of the functions the current function was called from in the reverse order (the first item is the deepest function).</p><div><pre><code>foo()\n bar()\n\nbar()\n baz()\n\nbaz()\n return called-from\n\nfoo()\n// =&gt; bar foo\n</code></pre></div><h2 id=\"current-media\">current-media()</h2><p><code class=\"highlighter-rouge\">current-media()</code> function returns the string of the current block’s <code class=\"highlighter-rouge\">@media</code> rule or <code class=\"highlighter-rouge\">''</code> if there is no <code class=\"highlighter-rouge\">@media</code> above the block.</p><div><pre><code>@media only screen and (min-width: 1024px)\n current-media()\n// =&gt; '@media (only screen and (min-width: (1024px)))'\n</code></pre></div><h2 id=\"cachekeys\">+cache(keys…)</h2><p><code class=\"highlighter-rouge\">+cache</code> is a really powerful built-in function that allows you to create your own “cachable” mixins.</p><p>“Cachable mixin” is the one, that would apply its contents to the given selector on the first call, but would <code class=\"highlighter-rouge\">@extend</code> the first call’s selector at the second call with the same params.</p><div><pre><code>size($width, $height = $width)\n +cache('w' + $width)\n   width: $width\n +cache('h' + $height)\n   height: $height\n\n.a\n size: 10px 20px\n.b\n size: 10px 2em\n.c\n size: 1px 2em\n</code></pre></div><p>Would yield to</p><div><pre><code>.a,\n.b {\n width: 10px;\n}\n.a {\n height: 20px;\n}\n.b,\n.c {\n height: 2em;\n}\n.c {\n width: 1px;\n}\n</code></pre></div><p>See how the selectors are grouped together by the used property.</p><h2 id=\"prefix-classesprefix\">+prefix-classes(prefix)</h2><p>Stylus comes with a block mixin <code class=\"highlighter-rouge\">prefix-classes</code> that can be used for prefixing the classes inside any given Stylus’ block. For example:</p><div><pre><code>+prefix-classes('foo-')\n .bar\n   width: 10px\n</code></pre></div><p>Yields:</p><div><pre><code>.foo-bar {\n width: 10px;\n}\n</code></pre></div><h2 id=\"lookupname\">lookup(name)</h2><p>Allows to lookup a variable with a given name, passed as a string. Returns <code class=\"highlighter-rouge\">null</code> if the variable is undefined.</p><p>Useful when you need to get a value of a variable with dynamically generated name:</p><div><pre><code>font-size-1 = 10px\nfont-size-2 = 20px\nfont-size-3 = 30px\n\nfor i in 1..3\n .text-{i}\n   font-size: lookup('font-size-' + i)\n</code></pre></div><p>Yields:</p><div><pre><code>.text-1 {\n font-size: 10px;\n}\n.text-2 {\n font-size: 20px;\n}\n.text-3 {\n font-size: 30px;\n}\n</code></pre></div><h2 id=\"definename-expr-global\">define(name, expr[, global])</h2><p>Allows to create or overwrite a variable with a given name, passed as a string, onto current scope (or global scope if <code class=\"highlighter-rouge\">global</code> is true).</p><p>This bif can be useful on those cases in which you’d wish interpolation in variable names:</p><div><pre><code>prefix = 'border'\nborder = { color: #000, length: 1px, style: solid }\n\nfor prop, val in border\n define(prefix + '-' + prop, val)\n\nbody\n border: border-length border-style border-color\n</code></pre></div><p>yields:</p><div><pre><code>body {\n border: 1px solid #000;\n}\n</code></pre></div><h2 id=\"operateop-left-right\">operate(op, left, right)</h2><p>Perform the given <code class=\"highlighter-rouge\">op</code> on the <code class=\"highlighter-rouge\">left</code> and <code class=\"highlighter-rouge\">right</code> operands:</p><div><pre><code>  op = '+'\n operate(op, 15, 5)\n // =&gt; 20\n</code></pre></div><h2 id=\"lengthexpr\">length([expr])</h2><p>Parenthesized expressions may act as tuples, the <code class=\"highlighter-rouge\">length()</code> function returns the length of such expressions.</p><div><pre><code>length((1 2 3 4))\n// =&gt; 4\n\nlength((1 2))\n// =&gt; 2\n\nlength((1))\n// =&gt; 1\n\nlength(())\n// =&gt; 0\n\nlength(1 2 3)\n// =&gt; 3\n\nlength(1)\n// =&gt; 1\n\nlength()\n// =&gt; 0\n</code></pre></div><h2 id=\"selector\">selector()</h2><p>Returns the compiled current selector or <code class=\"highlighter-rouge\">&amp;</code> if called at root level.</p><div><pre><code>.foo\n selector()\n// =&gt; '.foo'\n\n.foo\n &amp;:hover\n   selector()\n// '.foo:hover'\n</code></pre></div><h2 id=\"selector-existsselector\">selector-exists(selector)</h2><p>Returns true if the given selector exists.</p><div><pre><code>.foo\n color red\n\n a\n   font-size 12px\n\nselector-exists('.foo') // true\nselector-exists('.foo a') // true\nselector-exists('.foo li') // false\nselector-exists('.bar') // false\n</code></pre></div><p>This method does not take into account the current context meaning:</p><div><pre><code>.foo\n color red\n\n a\n   font-size 12px\n\n selector-exists('a') // false\n selector-exists(selector() + ' a') // true\n</code></pre></div><h2 id=\"warnmsg\">warn(msg)</h2><p>Warn with the given error <code class=\"highlighter-rouge\">msg</code>, does not exit.</p><div><pre><code>  warn(\"oh noes!\")\n</code></pre></div><h2 id=\"errormsg\">error(msg)</h2><p>Exits with the given error <code class=\"highlighter-rouge\">msg</code>.</p><div><pre><code>add(a, b)\n unless a is a 'unit' and b is a 'unit'\n   error('add() expects units')\n a + b\n</code></pre></div><h2 id=\"lastexpr\">last(expr)</h2><p>Return the <em>last</em> value in the given <code class=\"highlighter-rouge\">expr</code>:</p><div><pre><code>  nums = 1 2 3\n last(nums)\n last(1 2 3)\n // =&gt; 3\n\n list = (one 1) (two 2) (three 3)\n last(list)\n // =&gt; (three 3)\n</code></pre></div><h2 id=\"pexpr\">p(expr)</h2><p>Inspect the given <code class=\"highlighter-rouge\">expr</code>:</p><div><pre><code> fonts = Arial, sans-serif\np('test')\np(123)\np((1 2 3))\np(fonts)\np(#fff)\np(rgba(0,0,0,0.2))\n\nadd(a, b)\n  a + b\n\np(add)\n</code></pre></div><p>stdout:</p><div><pre><code> inspect: \"test\"\ninspect: 123\ninspect: 1 2 3\ninspect: Arial, sans-serif\ninspect: #fff\ninspect: rgba(0,0,0,0.2)\ninspect: add(a, b)\n</code></pre></div><h2 id=\"opposite-positionpositions\">opposite-position(positions)</h2><p>Return the opposites of the given <code class=\"highlighter-rouge\">positions</code>.</p><div><pre><code> opposite-position(right)\n// =&gt; left\n\nopposite-position(top left)\n// =&gt; bottom right\n\nopposite-position('top' 'left')\n// =&gt; bottom right\n</code></pre></div><h2 id=\"image-sizepath\">image-size(path)</h2><p>Returns the <code class=\"highlighter-rouge\">width</code> and <code class=\"highlighter-rouge\">height</code> of the image found at <code class=\"highlighter-rouge\">path</code>. Lookups are performed in the same manner as <code class=\"highlighter-rouge\">@import</code>, altered by the <code class=\"highlighter-rouge\">paths</code> setting.</p><div><pre><code>  width(img)\n   return image-size(img)[0]\n\n height(img)\n   return image-size(img)[1]\n\n image-size('tux.png')\n // =&gt; 405px 250px\n\n image-size('tux.png')[0] == width('tux.png')\n // =&gt; true\n</code></pre></div><h2 id=\"embedurlpath-encoding\">embedurl(path[, encoding])</h2><p>Returns an inline image as a <code class=\"highlighter-rouge\">url()</code> literal, encoded with <code class=\"highlighter-rouge\">encoding</code> (available encodings: <code class=\"highlighter-rouge\">base64</code> (default), and <code class=\"highlighter-rouge\">utf8</code>).</p><div><pre><code>background: embedurl('logo.png')\n// =&gt; background: url(\"data:image/png;base64,…\")\n\nbackground: embedurl('logo.svg', 'utf8')\n// =&gt; background: url(\"data:image/svg+xml;charset=utf-8,…\")\n</code></pre></div><h2 id=\"add-propertyname-expr\">add-property(name, expr)</h2><p>Adds property <code class=\"highlighter-rouge\">name</code>, with the given <code class=\"highlighter-rouge\">expr</code> to the closest block.</p><p>For example:</p><div><pre><code>  something()\n   add-property('bar', 1 2 3)\n   s('bar')\n\n body\n   foo: something()\n</code></pre></div><p>yields:</p><div><pre><code>  body {\n   bar: 1 2 3;\n   foo: bar;\n }\n</code></pre></div><p>Next the “magic” <code class=\"highlighter-rouge\">current-property</code> local variable comes into play. This variable is automatically available to function bodies, and contains an expression with the current property’s name, and value.</p><p>For example if we were to inspect this local variable using <code class=\"highlighter-rouge\">p()</code>, we get the following:</p><div><pre><code>    p(current-property)\n   // =&gt; \"foo\" (foo __CALL__ bar baz)\n\n   p(current-property[0])\n   // =&gt; \"foo\"\n\n   p(current-property[1])\n   // =&gt; foo __CALL__ bar baz\n</code></pre></div><p>Using <code class=\"highlighter-rouge\">current-property</code> we can take our example a bit further, and duplicate the property with new values, and a conditional to ensure the function is only used within a property value.</p><div><pre><code>    something(n)\n     if current-property\n       add-property(current-property[0], s('-webkit-something(%s)', n))\n       add-property(current-property[0], s('-moz-something(%s)', n))\n       s('something(%s)', n)\n     else\n       error('something() must be used within a property')\n\n   body {\n     foo: something(15px) bar;\n   }\n</code></pre></div><p>yields:</p><div><pre><code>    body {\n     foo: -webkit-something(15px);\n     foo: -moz-something(15px);\n     foo: something(15px) bar;\n   }\n</code></pre></div><p>If you noticed in the example above, <code class=\"highlighter-rouge\">bar</code> is only present for the initial call, since we returned <code class=\"highlighter-rouge\">something(15px)</code>, it remained in-place within the expression, however the others do not take the rest of the expression into account.</p><p>Our more robust solution below, defines a function named <code class=\"highlighter-rouge\">replace()</code> which clones the expression to prevent mutation, replaces the string value of an expression with another, and returns the cloned expression. We then move on to replace <code class=\"highlighter-rouge\">__CALL__</code> within the expressions, which represents the cyclic call to <code class=\"highlighter-rouge\">something()</code>.</p><div><pre><code>    replace(expr, str, val)\n     expr = clone(expr)\n     for e, i in expr\n       if str == e\n         expr[i] = val\n     expr\n\n   something(n)\n     if current-property\n       val = current-property[1]\n       webkit = replace(val, '__CALL__', s('-webkit-something(%s)', n))\n       moz = replace(val, '__CALL__', s('-moz-something(%s)', n))\n       add-property(current-property[0], webkit)\n       add-property(current-property[0], moz)\n       s('something(%s)', n)\n     else\n       error('something() must be used within a property')\n\n   body\n     foo: something(5px) bar baz\n</code></pre></div><p>yields:</p><div><pre><code>      body {\n       foo: -webkit-something(5px) bar baz;\n       foo: -moz-something(5px) bar baz;\n       foo: something(5px) bar baz;\n     }\n</code></pre></div><p>Our implementation is now fully transparent both in regards to the property it is called within, and the position of the call. This powerful concept aids in transparent vendor support for function calls, such as gradients.</p><h2 id=\"jsonpath-options\">json(path[, options])</h2><p>Convert a .json file into stylus variables or an object. Nested variable object keys are joined with a dash (-).</p><p>For example, the following sample media-queries.json file:</p><div><pre><code>{\n   \"small\": \"screen and (max-width:400px)\",\n   \"tablet\": {\n       \"landscape\": \"screen and (min-width:600px) and (orientation:landscape)\",\n       \"portrait\": \"screen and (min-width:600px) and (orientation:portrait)\"\n   }\n}\n</code></pre></div><p>May be used in the following ways:</p><div><pre><code>json('media-queries.json')\n\n@media small\n// =&gt; @media screen and (max-width:400px)\n\n@media tablet-landscape\n// =&gt; @media screen and (min-width:600px) and (orientation:landscape)\n\nvars = json('vars.json', { hash: true })\nbody\n width: vars.width\n\nvars = json('vars.json', { hash: true, leave-strings: true })\ntypeof(vars.icon)\n// =&gt; 'string'\n\n// don't throw an error if the JSON file doesn't exist\noptional = json('optional.json', { hash: true, optional: true })\ntypeof(optional)\n// =&gt; 'null'\n</code></pre></div><h2 id=\"usepath\">use(path)</h2><p>You can use any given js-plugin at given <code class=\"highlighter-rouge\">path</code> with <code class=\"highlighter-rouge\">use()</code> function right inside your ‘.styl’ files, like this:</p><div><pre><code>use(\"plugins/add.js\")\n\nwidth add(10, 100)\n// =&gt; width: 110\n</code></pre></div><p>And the <code class=\"highlighter-rouge\">add.js</code> plugin in this case looks this way:</p><div><pre><code>var plugin = function(){\n return function(style){\n   style.define('add', function(a, b) {\n     return a.operate('+', b);\n   });\n };\n};\nmodule.exports = plugin;\n</code></pre></div><p>If you’d like to return any Stylus objects like <code class=\"highlighter-rouge\">RGBA</code>, <code class=\"highlighter-rouge\">Ident</code> or <code class=\"highlighter-rouge\">Unit</code>, you could use the provided Stylus nodes like this:</p><div><pre><code>var plugin = function(){\n return function(style){\n   var nodes = this.nodes;\n   style.define('something', function() {\n     return new nodes.Ident('foobar');\n   });\n };\n};\nmodule.exports = plugin;\n</code></pre></div><p>You can pass any options as an optional second argument, using the hash object:</p><div><pre><code>use(\"plugins/add.js\", { foo: bar })\n</code></pre></div><h2 id=\"undefined-functions\">Undefined Functions</h2><p>Undefined functions will output as literals, so for example we may call <code class=\"highlighter-rouge\">rgba-stop(50%, #fff)</code> within our css, and it will output as you would expect. We can use this within helpers as well.</p><p>In the example below we simply define the function <code class=\"highlighter-rouge\">stop()</code> which returns the literal <code class=\"highlighter-rouge\">rgba-stop()</code> call.</p><div><pre><code>stop(pos, rgba)\n rgba-stop(pos, rgba)\n\nstop(50%, orange)\n// =&gt; rgba-stop(50%, #ffa500)\n</code></pre></div></div>\n","nib":"<div class=\"docs\"><header><h1>Nib</h1><span>CSS3 extensions for Stylus</span></header><section><p>Nib is a small and powerful library for the Stylus CSS language, providing robust cross-browser CSS3 mixins to make your life as a designer easier.</p><pre><code>\nbody {\n  background: linear-gradient(top, white, black);\n}</code></pre><pre><code>\nbody {\n  background: -webkit-gradient(linear,left top,left bottom,color-stop(0, #fff),color-stop(1, #000));\n  background: -webkit-linear-gradient(top, #fff 0%, #000 100%);\n  background: -moz-linear-gradient(top, #fff 0%, #000 100%);\n  background: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre> </section><section><h2>Installation</h2> <p>To get started you'll first want to add nib to your <em>package.json</em> file, along with stylus. Once installed you can use Stylus and Nib with your Connect or Express application as shown in the following snippet. The simple <code>.use(nib())</code> call is all that is required to expose itself to Stylus</p><pre><code>\nconst connect = require('connect'),\nstylus = require('stylus'),\nnib = require('nib');\n\nvar app = connect();\n\nfunction compile(str, path) {\nreturn stylus(str)\n  .set('filename', path)\n  .set('compress', true)\n  .use(nib());\n}\n\napp.use(stylus.middleware({\n  src: __dirname,\n  compile: compile\n}));\n\napp.listen(3000);</code></pre><p>From within a <em>.styl</em> file you can then <strong>@import</strong> nib, or a portion of nib:</p><pre><code>\n@import 'nib'\n@import 'nib/gradients'\n@import 'nib/buttons'</code></pre> <p>Rather than manually <strong>@import</strong>-ing nib within your Stylus source you can import it via the JavaScript API as well:</p><pre><code>\nreturn stylus(str)\n  .set('filename', path)\n  .set('compress', true)\n  .use(nib())\n  .import('nib');\n</code></pre> </section> <section> <h2>Gradients</h2> <p>Nib's gradient support is by far the largest feature it provides, not only is the syntax extremely similar to what you would normally write, it's more forgiving, expands to vendor equivalents, and can even produce a PNG for older browsers with node-canvas.</p><pre><code>\nbody {\n  background: linear-gradient(top, white, black);\n}\n\n</code></pre>yields:<pre><code>\nbody {\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000));\n  background: -webkit-linear-gradient(top, #fff 0%, #000 100%);\n  background: -moz-linear-gradient(top, #fff 0%, #000 100%);\n  background: linear-gradient(top, #fff 0%, #000 100%);\n}\n\n</code></pre><img class=\"grad\" src=\"./app/img/nib1.png\"/><p>Any number of color stops may be provided:</p><pre><code>\nbody {\nbackground: linear-gradient(bottom left, white, red, blue, black);\n}\n\n</code></pre><img class=\"grad\" src=\"./app/img/nib2.png\"/><p>Units may be placed before, or after the color:</p><pre><code>\nbody {\n  background: linear-gradient(left, 80% red, #000);\n  background: linear-gradient(top, #eee, 90% white, 10% black);\n}\n\n</code></pre><img class=\"grad\" src=\"./app/img/nib3.png\"/><img class=\"grad\" src=\"./app/img/nib4.png\"/> </section> <section> <h2>Position mixins</h2> <p>The position mixins <code>absolute</code>, <code>fixed</code>, and <code>relative</code> provide a shorthand variant to what is otherwise three CSS properties. The syntax is as follows:</p><pre><code>\nfixed|absolute|relative: top|bottom [n] left|right [n]</code>\n  </pre> <p>The following example will default to (0,0):</p><pre>\n      <code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>0yielding: <pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>1 <p>You may also specify the units:</p><pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>2yielding: <pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>3 </section> <section> <h2>Clearfix</h2> <p>The clearfix mixin currently takes no arguments, so it may be called as shown below:</p><pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>4yielding:<pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>5 </section> <section> <h2>Border radius</h2> <p>Nib's <code>border-radius</code> supports both the regular syntax as well as augmenting it to make the value more expressive.</p><pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>6yielding:<pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>7 </section> <section> <h2>Responsive</h2> <p>The <code>image</code> mixin allows you to define a <code>background-image</code> for both the normal image, and a doubled image for devices with a higher pixel ratio such as retina displays. This works by using a @media query to serve an \"@2x\" version of the file.</p><pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>8yields:<pre><code>\nbody {\nbackground: -webkit-gradient(linear,\n  left top,\n  left bottom,\n  color-stop(0, #fff),\n  color-stop(1, #000));\nbackground: -webkit-linear-gradient(top, #fff 0%, #000 100%);\nbackground: -moz-linear-gradient(top, #fff 0%, #000 100%);\nbackground: linear-gradient(top, #fff 0%, #000 100%);\n}</code></pre>9 </section> <section> <h2>Ellipsis</h2> <p>The <code>overflow</code> property is augmented with a \"ellipsis\" value, expanding to what you see below.</p><pre><code>\nvar connect = require('connect')\n, stylus = require('stylus')\n, nib = require('nib');\n\nvar app = connect();\n\nfunction compile(str, path) {\nreturn stylus(str)\n  .set('filename', path)\n  .set('compress', true)\n  .use(nib());\n}\n\napp.use(stylus.middleware({\n  src: __dirname\n, compile: compile\n}));\n\napp.listen(3000);</code></pre>0yielding:<pre><code>\nvar connect = require('connect')\n, stylus = require('stylus')\n, nib = require('nib');\n\nvar app = connect();\n\nfunction compile(str, path) {\nreturn stylus(str)\n  .set('filename', path)\n  .set('compress', true)\n  .use(nib());\n}\n\napp.use(stylus.middleware({\n  src: __dirname\n, compile: compile\n}));\n\napp.listen(3000);</code></pre>1 </section> <section> <h2>Reset</h2> <p>Nib comes bundled with Eric Meyer's style reset support, you can choose to apply the global or any specifics that you wish.</p><ul> <li>global-reset()</li><li>nested-reset()</li><li>reset-font()</li><li>reset-box-model()</li><li>reset-body()</li><li>reset-table()</li><li>reset-table-cell()</li><li>reset-html5()</li></ul> </section> <section> <h2>Miscellaneous properties</h2> <p>The following properties follow vendor expansion much like <code>border-radius</code>, however without augmentation, as well as some aliases such as <code>whitespace</code> instead of <code>white-space</code>.</p><ul> <li>no-wrap==nowrap</li><li>whitespace==white-space</li><li>box-shadow</li><li>user-select</li><li>column-count</li><li>column-gap</li><li>column-rule</li><li>column-rule-color</li><li>column-rule-width</li><li>column-rule-style</li><li>column-width</li><li>background-size</li><li>transform</li><li>border-image</li><li>transition</li><li>transition-property</li><li>transition-duration</li><li>transition-timing-function</li><li>transition-delay</li><li>backface-visibility</li><li>opacity</li><li>box-sizing</li><li>box-orient</li><li>box-flex</li><li>box-flex-group</li><li>box-align</li><li>box-pack</li><li>box-direction</li><li>animation</li><li>animation-name</li><li>animation-duration</li><li>animation-delay</li><li>animation-direction</li><li>animation-iteration-count</li><li>animation-timing-function</li><li>animation-play-state</li><li>animation-fill-mode</li><li>border-image</li><li>hyphens</li><li>appearance</li></ul></section></div>\n"}
